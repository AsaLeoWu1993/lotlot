(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5be2d466"],{2826:function(e,o){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAqCAMAAACX8MsWAAAAtFBMVEVHcExeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5pZ6VfAAAAO3RSTlMANijsDO7V8q3B834n2/1TNVLn0Lmo9qlDyO2TAiIRvSYyIANaR7Nbt25fsbuL5tN2P8TxBqvDmdzezzqVKQcAAACjSURBVDjLY2BQ52XHCvS4GRhUrXECAwYN3JL6DGpwNp+mID+/oIoQXMCIgQMhqcQABMq8cAFOJEkMQFCS3VCAERMIWIIlmRmwAiuwJCsLVkm2UclRyQGWxJFuhcGSxooKTBiAh8eCpIwkIopbElgKSIjhkJQCuUMcWVIbweGSAUpKIvhmDDpIxsrLykkjcYUZtHC71pyBQVcIUTABjYazmU1NAPblXeZQp4kfAAAAAElFTkSuQmCC"},"2af8":function(e,o,t){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.d(o,"a",(function(){return a}))},4089:function(e,o){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAApCAMAAAD6UwK7AAABO1BMVEVHcExeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl47ZlkOAAAAaHRSTlMAjtkzNdza2PIoxyDiv2zhoRYC6kEbizG9w534AQn86MiBd5ghH0TpbZu8fHOkxWHTRQ6AnGmovn/dO/6z1vBnPNIlNO/0tBVxlC/rSPpXN1l5NkzzUJ5YHAoSJA84zyMEltQqIkDnEZf6FCoAAAE4SURBVDjLhdLFcsNAFETRdiLHFHRMYWZmZmZm5vv/X5CFE3msssa9a51XKs08Sbl0DcyUh2ujgVIVSs02/2ktMNHdg5EVLyfIT28+N25lH5f1r/0NrOd5NQB9G5JiEwsAcyaPA1D510qbAdKGjwBMu3UKYMjwDEBnrgeBzbhb4wdA1Ji/Bki6decIqDf8DGDfrTGAgOHHAAm3PgCkDL8AuHJrBM/7TwFuct1xnKdH80JOHOfcLXcvknQfySUpSbc1Wd6tpXAa9iRpEv9EpTFsaVOF1ZdUZfWgyqxeopDVQx5vGS6xeXWTNOjv5ZKkRV+flSSt+nr2Fzj09ctXSXr2/766HylgO19aarD5h/Iv1Ouf0rvNY9K3zTNfb577Lba/YvuvKLLfeau3Sx0WrpOkytHlcMEEU9IvcqdHdZHRmtgAAAAASUVORK5CYII="},8704:function(e,o){e.exports=Object.is||function(e,o){return e===o?0!==e||1/e==1/o:e!=e&&o!=o}},"8d05":function(e,o){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAP1BMVEVHcEy/v7++vr6+vr6/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7++vr6/v7+/v7++vr6/v7+/v7+/v7+/v7/R8J+9AAAAFHRSTlMA39DgoIBAMBDPIO+Q8GB/P1+fj55nVTwAAAEaSURBVEjHxZbJkoQwCECzGey49Mb/f+tYTmyjEIIzh+Zkle9JAko05huRHvc1HklDw8viJ+wLGvizoLPzFPBI8FWJNf6NlXizeH/Datx6ZrMCvxhw5flsjga/GEd+xGaMh3qiIsrqWo1gd35GVczKBBNJASIfTNgut2YEme/tft1eUShbmteUtDxiajXhxOdWdGoeO1kgPBFinESeCgYmiSfCALvB8XQPu8HyWSjLuhk8n8t6aNyvUeFz44w/G2OF9+zLtxi1kRD413uA2gj5zBp/ujHwvP/7J0pSsOH+M2YuDzJj3JUFrcO4YTgy8EE0HHPWSTlcz55Bo3K/RXXZfrgonKMzUfzcOthD4fgAql+H2K0R01f+XH4A+8NrdsJy1mwAAAAASUVORK5CYII="},"9ed6":function(e,o,t){"use strict";t.r(o);var a=t("2af8"),i=(t("9e76"),t("9dd9"),t("c0c3"),t("702a")),s={data:function(){return{verifyCodeShow:!0,verifyCode:"",account:"",password:"",isLoading:!1,wechatLogin:!0,appId:"",webId:"",webUrl:"",autoLogin:!0,show:!0,showReSafeCode:!1,showOtherLogin:!1,isIOS:!1,iosClose:!1,safeCodeError:0,safeCodeShow:!1,roomButton:[1,2,3,4,5,6,7,8,9],closeType:""}},mounted:function(){var e=this,o=location.search,t=new RegExp("code=([^&]*)(&|$)"),a=e.getLocalData("safetyCode"),s=navigator.userAgent;i.a.$emit("navigateShow",!1),e.lotterySignalr.closeSignalr(),s.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?(e.isIOS=!0,s.match(/MicroMessenger/gi)?e.showOtherLogin=!0:e.showOtherLogin=!1):e.showOtherLogin=!0,o?(e.show=!0,a&&"null"!=a&&(e.verifyCodeShow=!1,e.handleWechatLogin({code:o.match(t)[1],seurityNo:a,type:2}))):e.autoLoginF(),e.handleCanWechatLogin()},methods:{handleExitRoom:function(){this.delLocalData("safetyCode");try{this.setLocalData("safetyCode","null")}catch(e){}this.verifyCode="",this.verifyCodeShow=!0},autoLoginF:function(){var e=this,o=e.getLocalData("userInfo"),t=e.getLocalData("safetyCode");t&&"null"!=t?(e.verifyCodeShow=!1,e.verifyCode=t):e.verifyCodeShow=!0,o&&"string"==typeof o&&(o=JSON.parse(o));try{o&&o.autoLogin?e.autoLogin=!!o.autoLogin:e.autoLogin=!0}catch(o){e.autoLogin=!0}e.autoLogin&&e.verifyCode&&o?(e.account=o.loginName,e.password=o.password,e.account&&e.password?e.handleLogin():o.unionCode?e.handleUnionLogin({unionid:o.unionCode,seurityNo:e.verifyCode}):e.show=!1):e.show=!1},handleInput:function(e,o,t){e.stopPropagation(),e.preventDefault();var a=this;switch(o){case"number":a.verifyCode.length<6&&(a.verifyCode+=t);break;case"clear":a.verifyCode="";break;case"back":a.verifyCode=a.verifyCode.substr(0,a.verifyCode.length-1)}6===a.verifyCode.length&&a.handleJoin()},handleAutoLogin:function(){var e=this,o=e.getLocalData("userInfo");e.autoLogin=!e.autoLogin,o&&"string"==typeof o&&(o=JSON.parse(o)),o||"object"!==Object(a.a)(o)||(o={}),o.autoLogin=e.autoLogin?"OK":"",e.setLocalData("userInfo",JSON.stringify(o))},handleCanWechatLogin:function(){var e=this;e.$axios({url:"/api/SwUser/GetSwitch"}).then((function(o){100===o.data.Status?e.wechatLogin=o.data.Keyword:e.wechatLogin=!1}))},handleBlur:function(){window.scroll(0,0)},handleClose:function(e){var o=navigator.userAgent.toLowerCase();if(this.isIOS)return this.closeType=e,void(this.iosClose=!0);try{api?(api.closeWidget({silent:!0}),api.accessNative({name:"closeapp"})):o.match(/MicroMessenger/i)&&"micromessenger"===o.match(/MicroMessenger/i)[0]?WeixinJSBridge.call("closeWindow"):(window.location.href="about:blank",window.opener=null,window.close())}catch(e){o.match(/MicroMessenger/i)&&"micromessenger"===o.match(/MicroMessenger/i)[0]?WeixinJSBridge.call("closeWindow"):(window.location.href="about:blank",window.opener=null,window.close())}},handlePaste:function(){var e=this;e.getPermission().then((function(o){o&&function(){try{api.require("clipBoard").get((function(o,t){o&&"string"==o.type&&(e.verifyCode=o.value)}))}catch(o){}}()}))},handleQQ:function(){},handleJoin:function(){var e=this;e.verifyCode?e.isLoading||(e.isLoading=!0,e.$axios({url:"/api/SwUser/SetUpCode",params:{code:e.verifyCode}}).then((function(o){if(e.isLoading=!1,100===o.data.Status)e.showPoptip(o.data.Message,"success",1200),e.setLocalData("safetyCode",e.verifyCode),e.verifyCodeShow=!1;else{if(e.safeCodeError++,e.delLocalData("safetyCode"),3<=e.safeCodeError)return void e.handleClose();e.safeCodeShow=!0}e.isLoading=!1})).catch((function(o){e.isLoading=!1}))):e.showPoptip("请填写安全码","error",1200)},getPermission:function(){return new Promise((function(e,o){try{api.hasPermission({list:["photos"]})[0].granted?e(!0):api.requestPermission({list:["photos"]},(function(o,t){list.list[0].granted?e(!0):e(!1)}))}catch(o){e(!1)}}))},handleLogin:function(){var e=this;e.account?e.password?e.isLoading?e.showPoptip("正在登录中...请稍后","error",1200):(e.isLoading=!0,e.$axios({url:"/api/SwUser/UserLogin",params:{loginName:e.account,password:e.password,seurityNo:e.verifyCode}}).then((function(o){if(e.isLoading=!1,100===o.data.Status){var t=o.data.Model;e.delLocalData("userInfo"),e.delLocalData("safetyCode"),e.showPoptip(o.data.Message,"success",1200);var a={loginName:t.LoginName,merchantID:t.MerchantID,nickname:t.NickName,userId:t.UserID,userHead:e.getPicUrl(t.Avatar),amount:t.UserMoney,onlyCode:t.OnlyCode,password:e.password,unionCode:"",autoLogin:e.autoLogin?"OK":"",isAgent:t.IsAgent?"YES":"NO"};t.RoomNum&&(a.roomNum=t.RoomNum),e.setLocalData("userInfo",JSON.stringify(a)),e.setLocalData("UserAuthorization",t.Key),e.setLocalData("Token",t.Token),e.setLocalData("safetyCode",e.verifyCode),e.setLocalData("errorNum",0),e.$router.push({name:"home"})}else if(101===o.data.Status){e.delLocalData("userInfo"),e.show=!1,e.showPoptip(o.data.Message,"error",1200);var i=e.getLocalData("errorNum")||0;3<=parseInt(i)+1?(e.delLocalData("errorNum"),e.verifyCodeShow=!0,e.delLocalData("safetyCode")):e.setLocalData("errorNum",parseInt(i)+1)}else 302===o.data.Status?(e.showPoptip(o.data.Message,"error",1200),e.showReSafeCode=!0,e.show=!1):(e.delLocalData("userInfo"),e.show=!1,e.showPoptip(o.data.Message,"error",1200),e.verifyCodeShow=!0,e.delLocalData("safetyCode"))})).catch((function(o){e.isLoading=!1}))):e.showPoptip("请填写密码","error",1200):e.showPoptip("请填写登录账户","error",1200)},handleRegister:function(){this.$router.push({name:"register"})},handleWechat:function(){var e=this;try{if(api)api.require("wx").auth({apiKey:e.appId},(function(o,t){o.status?e.handleWechatLogin({code:o.code,seurityNo:e.verifyCode,type:1}):e.showPoptip("授权失败!","error",1200)}));else{var o=navigator.userAgent.toLowerCase();o.match(/MicroMessenger/i)&&"micromessenger"===o.match(/MicroMessenger/i)[0]?window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(e.webId,"&redirect_uri=").concat(e.webUrl,"&response_type=code&scope=snsapi_userinfo&state=sq&connect_redirect=1#wechat_redirect"):e.showPoptip("")}}catch(o){var t=navigator.userAgent.toLowerCase();t.match(/MicroMessenger/i)&&"micromessenger"===t.match(/MicroMessenger/i)[0]?window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(e.webId,"&redirect_uri=").concat(e.webUrl,"&response_type=code&scope=snsapi_userinfo&state=sq&connect_redirect=1#wechat_redirect"):e.showPoptip("")}},handleWechatLogin:function(e){var o=this;o.isLoading||(o.isLoading=!0,o.axios({url:"/api/WeChat/WeChatAppAction",params:{code:e.code,seurityNo:e.seurityNo,type:e.type}}).then((function(t){o.isLoading=!1,100===t.data.Status?o.handleUnionLogin({unionid:t.data.Keyword,seurityNo:e.seurityNo}):200===t.data.Status?(o.showPoptip(t.data.Message,"error",1200),o.show=!1,o.verifyCodeShow=!0,o.delLocalData("safetyCode")):302===t.data.Status&&(o.showPoptip(t.data.Message,"error",1200),o.showReSafeCode=!0,o.show=!1)})))},handleUnionLogin:function(e){var o=this;o.isLoading||(o.isLoading=!0,o.axios({url:"/api/SwUser/UserWeChatLogin",params:{unionid:e.unionid,seurityNo:e.seurityNo}}).then((function(t){if(o.isLoading=!1,100===t.data.Status){var a=t.data.Model;o.delLocalData("userInfo"),o.delLocalData("safetyCode"),o.showPoptip(t.data.Message,"success",1200);var i={loginName:a.LoginName||"",merchantID:a.MerchantID,nickname:a.NickName,userId:a.UserID,userHead:o.getPicUrl(a.Avatar),amount:a.UserMoney,onlyCode:a.OnlyCode,password:o.password||"",unionCode:a.Unionid,autoLogin:o.autoLogin?"OK":"",isAgent:a.IsAgent?"YES":"NO"};a.RoomNum&&(i.roomNum=a.RoomNum),o.setLocalData("userInfo",JSON.stringify(i)),o.setLocalData("UserAuthorization",a.Key),o.setLocalData("Token",a.Token),o.setLocalData("safetyCode",e.seurityNo),o.$router.push({name:"home"})}else if(101===t.data.Status){o.show=!1,o.delLocalData("userInfo"),o.showPoptip(t.data.Message,"error",1200);var s=o.getLocalData("errorNum")||0;3<=parseInt(s)+1?(o.delLocalData("errorNum"),o.verifyCodeShow=!0,o.delLocalData("safetyCode")):o.setLocalData("errorNum",parseInt(s)+1)}else o.show=!1,o.delLocalData("userInfo"),o.showPoptip(t.data.Message,"error",1200),o.verifyCodeShow=!0,o.delLocalData("safetyCode")})).catch((function(e){o.isLoading=!1})))},handleGetAppId:function(){var e=this;e.wechatLogin?e.isLoading||(e.isLoading=!0,e.$axios({url:"/api/WeChat/GetAppInfos"}).then((function(o){e.isLoading=!1,100===o.data.Status&&(e.appId=o.data.Model.App_AppID,e.webId=o.data.Model.Web_AppID,e.webUrl=encodeURIComponent(location.href),e.handleWechat())})).catch((function(o){e.isLoading=!1}))):e.showPoptip("当前微信授权登录升级中，请选择自定账号注册登录。","error",1200)}}},n=(t("f8c5"),t("5511")),r=Object(n.a)(s,(function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",{staticClass:"login my-position"},[a("div",{staticClass:"login-content"},[a("div",{staticClass:"normal-login"},[a("form",[a("div",{staticClass:"login-item"},[a("img",{ref:"user",staticClass:"user",attrs:{src:t("2826")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{autocorrect:"off",placeholder:"请输入账号"},domProps:{value:e.account},on:{blur:e.handleBlur,input:function(o){o.target.composing||(e.account=o.target.value)}}})]),a("div",{staticClass:"login-item"},[a("img",{staticClass:"password",attrs:{src:t("4089")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{blur:e.handleBlur,input:function(o){o.target.composing||(e.password=o.target.value)}}})]),a("div",{staticClass:"poptip",on:{click:e.handleAutoLogin}},[a("img",{attrs:{src:e.autoLogin?t("daa9"):t("8d05"),alt:"",title:""}}),a("div",{staticClass:"remember"},[e._v("记住密码自动登录")])]),a("div",{staticClass:"login-submit",on:{click:e.handleLogin}},[e._v("登录")]),a("div",{staticClass:"login-submit",on:{click:e.handleExitRoom}},[e._v("退出房间")]),a("div",{staticClass:"register"},[e._v("\n                    还没有注册账号？\n                    "),a("span",{on:{click:e.handleRegister}},[e._v("注册账号")])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showOtherLogin,expression:"showOtherLogin"}],staticClass:"wechat-login-title"},[e._v("第三方登录")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showOtherLogin,expression:"showOtherLogin"}],staticClass:"quick-login"},[a("div",{staticClass:"wechat-login",on:{click:e.handleGetAppId}})]),e.showReSafeCode?a("div",{staticClass:"re-enter-safecode"},[a("div",{staticClass:"re-safecode",on:{click:function(o){e.verifyCodeShow=!0}}},[e._v("重新输入安全码")])]):e._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.verifyCodeShow,expression:"verifyCodeShow"}],staticClass:"join-room-shade"},[a("div",{staticClass:"join-room"},[a("div",{staticClass:"close-join-room",on:{click:function(o){return e.handleClose("manua")}}}),a("div",{staticClass:"input-room-num"},[a("div",{staticClass:"input-item"},[e._v(e._s(e.verifyCode.split("")[0]||""))]),a("div",{staticClass:"input-item"},[e._v(e._s(e.verifyCode.split("")[1]||""))]),a("div",{staticClass:"input-item"},[e._v(e._s(e.verifyCode.split("")[2]||""))]),a("div",{staticClass:"input-item"},[e._v(e._s(e.verifyCode.split("")[3]||""))]),a("div",{staticClass:"input-item"},[e._v(e._s(e.verifyCode.split("")[4]||""))]),a("div",{staticClass:"input-item"},[e._v(e._s(e.verifyCode.split("")[5]||""))])]),a("div",{staticClass:"input-room-but"},[e._l(e.roomButton,(function(o,t){return a("div",{key:t,class:["button-item","button-item-"+o],on:{click:function(t){return e.handleInput(t,"number",o)},touchstart:function(t){return e.handleInput(t,"number",o)}}})})),a("div",{staticClass:"button-item button-item-clear",on:{click:function(o){return e.handleInput(o,"clear")},touchstart:function(o){return e.handleInput(o,"clear")}}}),a("div",{staticClass:"button-item button-item-0",on:{click:function(o){return e.handleInput(o,"number",0)},touchstart:function(o){return e.handleInput(o,"number",0)}}}),a("div",{staticClass:"button-item button-item-back",on:{click:function(o){return e.handleInput(o,"back")},touchstart:function(o){return e.handleInput(o,"back")}}})],2)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"shade"},[a("img",{attrs:{src:t("3d02")}}),a("div",{staticClass:"loading"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.safeCodeShow,expression:"safeCodeShow"}],staticClass:"shade safe-code-shade"},[a("div",{staticClass:"safe-code-poptip"},[a("p",[e._v("安全码输入错误")]),a("p",[e._v("连续输入错误3次，将退出APP")]),a("div",{staticClass:"continue",on:{click:function(o){e.safeCodeShow=!1}}},[e._v("我再试试")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.iosClose,expression:"iosClose"}],staticClass:"shade safe-code-shade",staticStyle:{"justify-content":"center"}},[a("div",{staticClass:"safe-code-poptip",staticStyle:{"justify-content":"center"}},[a("p",[e._v(e._s(e.closeType?"请从外部关闭APP":"请关闭APP，重新打开"))])])])])}),[],!1,null,"fb5ec75a",null);o.default=r.exports},c0c3:function(e,o,t){"use strict";var a=t("69b3"),i=t("8704"),s=t("7108");t("0aed")("search",1,(function(e,o,t,n){return[function(t){var a=e(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,a):new RegExp(t)[o](String(a))},function(e){var o=n(t,e,this);if(o.done)return o.value;var r=a(e),l=String(this),c=r.lastIndex;i(c,0)||(r.lastIndex=0);var d=s(r,l);return i(r.lastIndex,c)||(r.lastIndex=c),null===d?-1:d.index}]}))},d877:function(e,o,t){},daa9:function(e,o){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAP1BMVEVHcEwAmMwAmMwAmcwAmcwAmcsAl8sAms8An88AmcsAl88AmcwAmMwAmcwAl80Amc0AmcwAmMwAms4AmcsAmcwRz6KXAAAAFHRSTlMA39DgoIBAMBDPIO+Q8GB/X58/j5rpiJYAAAEaSURBVEjHxZbJkoQwCECzGey49Mb/f+tYTmyjEIIzh+Zkle9JAko05huRXvc1XklDw9PiJ+wTGvijoLPzEPBI8FWJNf6NlXizeH/Datx6ZrMCvxhw5flsjga/GEd+xGaMh3qiIsrqWo1gd35GVczKBBNJASIfTNgut2YEme/tft1eUShbmteUtDxiajXhxOdWdGoeO1kgPBFinESeCgYmiSfCALvB8XQPu8HyWSjLuhk8n8t6aNyvUeFz44w/G2OF9+zLtxi1kRD413uA2gj5zBp/ujHwvP/7J0pSsOH+M2YuDzJj3JUFrcO4YTgy8EE0HHPWSTlcz55Bo3K/RXXZfrgonKMzUfzcOthD4fgAql+H2K0R01f+XH4A/OlrdoWWWZQAAAAASUVORK5CYII="},f8c5:function(e,o,t){"use strict";var a=t("d877");t.n(a).a}}]);