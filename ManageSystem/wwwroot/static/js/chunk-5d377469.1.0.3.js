(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5d377469"],{"013f":function(e,s,t){var a=t("4ce5"),n=t("224c"),i=t("008a"),o=t("eafa"),r=t("5dd2");e.exports=function(e,s){var t=1==e,l=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,g=s||r;return function(s,r,h){for(var v,m,f=i(s),w=n(f),U=a(r,h,3),_=o(w.length),L=0,y=t?g(s,_):l?g(s,0):void 0;L<_;L++)if((p||L in w)&&(m=U(v=w[L],L,f),e))if(t)y[L]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return L;case 2:y.push(v)}else if(u)return!1;return d?-1:c||u?u:y}}},"04e4":function(e,s,t){},"190b":function(e,s,t){t("149f")&&"g"!=/./g.flags&&t("064e").f(RegExp.prototype,"flags",{configurable:!0,get:t("f1fe")})},2346:function(e,s,t){var a=t("75c4");e.exports=Array.isArray||function(e){return"Array"==a(e)}},"2b45":function(e,s,t){"use strict";function a(e){t("bf16")(RegExp.prototype,r,e,!0)}t("190b");var n=t("69b3"),i=t("f1fe"),o=t("149f"),r="toString",l=/./[r];t("238a")((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?a((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):l.name!=r&&a((function(){return l.call(this)}))},"48a6":function(e,s,t){"use strict";var a=t("04e4");t.n(a).a},"5dd2":function(e,s,t){var a=t("81dc");e.exports=function(e,s){return new(a(e))(s)}},"81dc":function(e,s,t){var a=t("fb68"),n=t("2346"),i=t("cb3d")("species");e.exports=function(e){var s;return n(e)&&("function"!=typeof(s=e.constructor)||s!==Array&&!n(s.prototype)||(s=void 0),a(s)&&null===(s=s[i])&&(s=void 0)),void 0===s?Array:s}},"98f3":function(e,s){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAXCAAAAAAwvwDMAAAAdklEQVQoz72SoQ6AIBRF+dqbrWYq2UwlU6lk68tkqhm5zGAAdXN6AmdvJ8DeUGWIKsW7Hi1N6HGbfKoIIhUglDtS4KUbhBJkKr5KsyHQJ+kjaUuw8DRog/7qGU4qKwIVECn/YFG5krBSEYny/y/K2R4tXXybETtnVNGgxASLNwAAAABJRU5ErkJggg=="},cb4e:function(e,s,t){"use strict";t.r(s);var a=[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"user-header"},[s("div",{staticClass:"header-title"},[s("img",{attrs:{src:t("98f3"),alt:"",title:""}}),s("span",[this._v("用户列表")])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"user-title"},[t("span",[e._v("用户名")]),t("span",[e._v("ID")]),t("span",[e._v("余额")]),t("span",[e._v("操作")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"account-title"},[s("span",[this._v("账户类型")]),s("span",[this._v("账户号码")])])}],n=(t("2b45"),t("e697"),{components:{loading:t("54a1").a},data:function(){return{noMoreData:!1,flush:{start:0,end:0,isFlushing:!1,isEnd:!1},selectType:"0",username:"",userList:[],showUserInfo:!1,showDelete:!1,showAccount:!1,page:{pageNum:0,pageSize:10,total:0},selectUser:{},accountInfoList:[],userLevelList:[],userSpeakList:[{title:"禁止发言",status:"false"},{title:"允许发言",status:"true"}],isLoading:!1,loading:{fly:!1,trueFalse:!1,delete:!1,agent:!1,account:!1,freezing:!1},gameList:[{title:"所有游戏",value:"0"},{title:"北京赛车",value:"1"},{title:"幸运飞艇",value:"2"},{title:"重庆时时彩",value:"3"},{title:"极速赛车",value:"4"},{title:"澳洲10",value:"5"},{title:"澳洲5",value:"6"}],showLoading:!1}},mounted:function(){var e=this;e.handleMethodsList().then((function(){e.getData()}))},methods:{handleMethodsList:function(){var e=this;return new Promise((function(s,t){e.$axios({url:"/api/User/GetGrogrammeList"}).then((function(t){if(100===t.data.Status){var a=t.data.Data;e.userLevelList=a.map((function(s){return{value:s.ID,title:s.Name+"-"+(s.GameType?e.gameList.find((function(e){return s.GameType==e.value})).title:"所有游戏")}}))}s()}))}))},handleQuery:function(){this.noMoreData=!1,this.page.pageNum=0,this.getData()},handleScroll:function(e){var s=this;e.target.scrollTop+e.target.clientHeight===e.target.scrollHeight&&(s.moreData=!0,setTimeout((function(){s.$refs.list.scrollTop+=25,s.getData()}),20))},handleTouchEnd:function(e){var s=this;s.flush.isEnd=!0,100<s.flush.end-s.flush.start&&0===s.$refs.list.scrollTop?(s.userList=[],s.noMoreData=!1,s.page.pageNum=0,s.getData()):e.target.scrollTop+e.target.clientHeight===e.target.scrollHeight&&s.flush.end-s.flush.start<-100?setTimeout((function(){s.$refs.list.scrollTop+=25,s.getData()}),20):(s.flush.end=s.flush.start,s.flush.isFlushing=!1)},handleTouchMove:function(e){this.flush.end=e.changedTouches[0].pageY},handleTouchStart:function(e){var s=this;s.flush.start=e.targetTouches[0].pageY,s.flush.end=s.flush.start,s.flush.isFlushing=!0,s.flush.isEnd=!1},handleEnter:function(){this.handleEnterDelete()},handleCancel:function(){this.showDelete=!1,this.showAccount=!1},handleShowAccount:function(){this.showAccount=!0,this.handleGetAcction()},handleBack:function(){this.selectUser={},this.showUserInfo=!1},handleSetting:function(e){this.handleSettingUser(e)},handleEnterDelete:function(){var e=this;e.isLoading||(e.isLoading=!0,e.loading.delete=!0,e.showLoading=!0,e.$axios({url:"/api/User/DeleleUser",method:"delete",params:{userID:e.selectUser.id}}).then((function(s){100===s.data.Status?e.$showPoptip(s.data.Message,"success",500):e.$showPoptip(s.data.Message,"error",500),e.isLoading=!1,e.loading.delete=!1,e.showUserInfo=!1,e.showDelete=!1,e.noMoreData=!1,e.showLoading=!1,e.page.pageNum=0,e.getData()})))},handleGetAcction:function(){var e=this;e.isLoading||(e.isLoading=!0,e.showLoading=!0,e.$axios({url:"/api/User/GetUserReceivables",params:{userID:e.selectUser.id}}).then((function(s){e.isLoading=!1,100===s.data.Status&&(e.accountInfoList=[],s.data.Model.WeChat&&e.accountInfoList.push({id:s.data.Model.WeChat,type:"微信"}),s.data.Model.Alipay&&e.accountInfoList.push({id:s.data.Model.Alipay,type:"支付宝"})),e.showLoading=!1})))},handleActAsAgent:function(){var e=this;e.isLoading||(e.isLoading=!0,e.loading.agent=!0,e.showLoading=!0,e.$axios({url:"/api/User/AvatarOperation",params:{userID:e.selectUser.id}}).then((function(s){100===s.data.Status?e.$showPoptip(s.data.Message,"success",500):e.$showPoptip(s.data.Message,"error",500),e.isLoading=!1,e.loading.agent=!1,e.showUserInfo=!1,e.noMoreData=!1,e.page.pageNum=0,e.showLoading=!1,e.getData()})))},handleSettingUser:function(e){var s=this;s.showUserInfo=!0,s.showLoading=!0,s.$axios({url:"/api/User/GetUserInfo",params:{userID:e.id}}).then((function(t){if(100===t.data.Status){var a=t.data.Model;s.selectUser={balance:e.balance,id:e.id,isAgent:e.isAgent,isFalse:e.isFalse,level:a.ProgrammeID,loginName:e.loginName,memoName:a.MemoName||"",nickName:a.NickName||e.nickName,record:e.record,remark:a.Remark,showId:e.showId,showType:a.ShowType?"nickname":"remark",speakingStatus:a.Talking.toString(),status:e.status}}else s.$showPoptip(t.data.Message,"error",500);s.showLoading=!1}))},handleChangeFlyingSheet:function(){var e=this;e.isLoading||(e.isLoading=!0,e.loading.fly=!0,e.showLoading=!0,e.$axios({url:"/api/User/RecordOperation",params:{userID:e.selectUser.id}}).then((function(s){100===s.data.Status?e.$showPoptip(s.data.Message,"success",500):e.$showPoptip(s.data.Message,"error",500),e.isLoading=!1,e.loading.fly=!1,e.showUserInfo=!1,e.noMoreData=!1,e.page.pageNum=0,e.showLoading=!1,e.getData()})))},handleChangeStatus:function(){var e=this;e.selectUser.isFalse||e.isLoading||(e.isLoading=!0,e.loading.trueFalse=!0,e.showLoading=!0,e.$axios({url:"/api/User/DummyOperation",params:{userID:e.selectUser.id}}).then((function(s){100===s.data.Status?e.$showPoptip(s.data.Message,"success",500):e.$showPoptip(s.data.Message,"error",500),e.isLoading=!1,e.loading.trueFalse=!1,e.showUserInfo=!1,e.noMoreData=!1,e.page.pageNum=0,e.showLoading=!1,e.getData()})))},handleFreezing:function(){var e=this;e.isLoading||(e.isLoading=!0,e.loading.freezing=!0,e.showLoading=!0,e.$axios({url:"/api/User/FrozenOperation",params:{userID:e.selectUser.id}}).then((function(s){100===s.data.Status?e.$showPoptip(s.data.Message,"success",500):e.$showPoptip(s.data.Message,"error",500),e.isLoading=!1,e.loading.freezing=!1,e.showUserInfo=!1,e.noMoreData=!1,e.showLoading=!1,e.page.pageNum=0,e.getData()})))},handleSubmit:function(){var e=this;e.selectUser.nickName?e.selectUser.level?e.isLoading||(e.isLoading=!0,e.showLoading=!0,e.$axios({url:"/api/User/UpdateUserInfo",method:"put",data:{ID:e.selectUser.id,Talking:"true"===e.selectUser.speakingStatus,UserMoney:e.selectUser.accountBalance,Remark:e.selectUser.remark,Password:e.selectUser.password||"",NickName:e.selectUser.nickName,ProgrammeID:e.selectUser.level,VideoProgrammeID:e.selectUser.videoLevel,MemoName:e.selectUser.memoName,ShowType:"nickname"===e.selectUser.showType}}).then((function(s){100===s.data.Status?e.$showPoptip(s.data.Message,"success",500):e.$showPoptip(s.data.Message,"error",500),e.isLoading=!1,e.showUserInfo=!1,e.noMoreData=!1,e.page.pageNum=0,e.showLoading=!1,e.getData()}))):e.$showPoptip("请选择回水方案","error",500):e.$showPoptip("请填写用户昵称","error",500)},getData:function(){var e=this,s={};if(e.username&&(s.loginName=e.username),e.selectType)switch(e.selectType){case"0":break;case"1":s.status=1;break;case"2":s.status=4}e.isLoading||e.noMoreData||(e.isLoading=!0,e.page.pageNum++,s.start=e.page.pageNum,s.pageSize=e.page.pageSize,1===e.page.pageNum&&(e.userList=[]),e.$axios({url:"/api/User/SearchUserInfo",params:s}).then((function(s){if(100===s.data.Status){var t=s.data.Data;e.page.total=s.data.Total,e.userList=e.userList.concat(t.map((function(e){return{id:e.ID,showId:e.OnlyCode,header:"/"+e.Avatar,nickName:e.NickName,loginName:e.LoginName,balance:e.UserMoney,isAgent:e.IsAgent,record:e.Record,status:e.Status,racing:e.Pk10,airship:e.Xyft,timeHonored:e.Cqssc,extremeSpeed:e.Jssc,australiaTen:e.Azxy10,australiaFive:e.Azxy5,level:e.ProgrammeID,speakingStatus:"",isFalse:e.IsSupport,remark:""}}))),e.page.total<e.page.pageSize*e.page.pageNum&&(e.noMoreData=!0)}e.isLoading=!1,e.flush.isFlushing=!1}))),e.noMoreData&&(e.flush.isFlushing=!1)}}}),i=(t("48a6"),t("623f")),o=Object(i.a)(n,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"user-manager"},[t("div",{staticClass:"user-query"},[t("div",{staticClass:"query-condition"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectType,expression:"selectType"}],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectType=s.target.multiple?t:t[0]}}},[t("option",{attrs:{value:"0"}},[e._v("所有用户")]),t("option",{attrs:{value:"1"}},[e._v("正式用户")]),t("option",{attrs:{value:"2"}},[e._v("虚假用户")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{placeholder:"输入用户名/ID"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value)}}})]),t("div",{staticClass:"query-list"},[t("div",{staticClass:"query-button",on:{click:e.handleQuery}},[e._v("查询")])])]),t("div",{staticClass:"user-list"},[e._m(0),e._m(1),t("div",{ref:"list",staticClass:"user-content",on:{touchstart:function(s){return s.stopPropagation(),e.handleTouchStart(s)},touchmove:function(s){return s.stopPropagation(),e.handleTouchMove(s)},touchend:function(s){return s.stopPropagation(),e.handleTouchEnd(s)}}},[e._l(e.userList,(function(s,a){return[t("div",{key:a,staticClass:"user-item"},[t("span",[e._v(e._s(s.nickName||s.loginName))]),t("span",[e._v(e._s(s.showId))]),t("span",[e._v(e._s(s.balance))]),t("span",{on:{click:function(t){return e.handleSetting(s)}}},[e._v("设置")])])]})),t("loading",{attrs:{isShow:e.isLoading&&e.flush.end>=e.flush.start}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.flush.end<e.flush.start&&e.flush.isFlushing,expression:"flush.end < flush.start && flush.isFlushing"}],staticClass:"flush-item flush-up"},[t("div",{staticClass:"downwrap-content"},[t("p",{class:["downwrap-progress",e.noMoreData?"":"rotate-progress"]}),t("p",{staticClass:"downwrap-tips"},[e._v(e._s(e.noMoreData?"没有更多数据":"加载中"))])])])],2)]),t("div",{staticClass:"shade",style:{width:e.showUserInfo?"7.5rem":"0"}},[t("div",{staticClass:"content"},[t("div",{staticClass:"c-header"},[t("div",{staticClass:"go-back",on:{click:e.handleBack}}),t("p",[e._v("用户设置")])]),t("div",{staticClass:"user-item"},[t("span",[e._v("登录账号：")]),t("span",[e._v(e._s(e.selectUser.loginName))])]),t("div",{staticClass:"user-item"},[t("span",[e._v("ID：")]),t("span",[e._v(e._s(e.selectUser.showId))])]),t("div",{staticClass:"user-item"},[t("span",[e._v("昵称：")]),t("span",[e._v(e._s(e.selectUser.nickName))])]),t("div",{staticClass:"user-item"},[t("span",[e._v("账户余额：")]),t("span",[e._v(e._s(e.selectUser.balance))])]),t("div",{staticClass:"user-item"},[t("span",[e._v("回水方案：")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectUser.level,expression:"selectUser.level"}],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.selectUser,"level",s.target.multiple?t:t[0])}}},[e._l(e.userLevelList,(function(s,a){return[t("option",{key:"l"+a,domProps:{value:s.value}},[e._v(e._s(s.title))])]}))],2)]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.selectUser.isFalse,expression:"!selectUser.isFalse"}],staticClass:"user-item"},[t("span",[e._v("登录密码：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectUser.password,expression:"selectUser.password"}],attrs:{placeholder:"可填入新密码，不修改则留空"},domProps:{value:e.selectUser.password},on:{input:function(s){s.target.composing||e.$set(e.selectUser,"password",s.target.value)}}})]),t("div",{staticClass:"user-item"},[t("span",[e._v("用户发言：")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectUser.speakingStatus,expression:"selectUser.speakingStatus"}],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.selectUser,"speakingStatus",s.target.multiple?t:t[0])}}},e._l(e.userSpeakList,(function(s,a){return t("option",{key:a,domProps:{value:s.status}},[e._v(e._s(s.title))])})),0)]),t("div",{staticClass:"user-item"},[t("span",[e._v("备注名：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectUser.memoName,expression:"selectUser.memoName"}],domProps:{value:e.selectUser.memoName},on:{input:function(s){s.target.composing||e.$set(e.selectUser,"memoName",s.target.value)}}})]),t("div",{staticClass:"user-item"},[t("span",[e._v("群信息显示：")]),t("RadioGroup",{staticStyle:{"margin-left":"8px"},model:{value:e.selectUser.showType,callback:function(s){e.$set(e.selectUser,"showType",s)},expression:"selectUser.showType"}},[t("Radio",{attrs:{label:"nickname",disabled:!e.selectUser.memoName}},[t("span",[e._v("昵称")])]),t("Radio",{attrs:{label:"remark",disabled:!e.selectUser.memoName}},[t("span",[e._v("备注名")])])],1)],1),t("div",{class:["save-button",e.isLoading?"loading":""],on:{click:e.handleSubmit}},[e._v("修改设置")]),t("div",{staticClass:"operate-list"},[t("div",{directives:[{name:"show",rawName:"v-show",value:"正常"===e.selectUser.status,expression:"selectUser.status === '正常'"}],class:["operate-item",e.loading.fly?"loading":""],style:{backgroundColor:e.selectUser.record?"#6b6b6b":"#09c"},on:{click:e.handleChangeFlyingSheet}},[e._v(e._s(e.selectUser.record?"关闭飞单":"开启飞单"))]),t("div",{class:["operate-item",e.loading.trueFalse?"loading":""],style:{backgroundColor:"假人"!==e.selectUser.status?"#6b6b6b":"#09c"},on:{click:e.handleChangeStatus}},[e._v(e._s(e.selectUser.isFalse?"机器人托":"假人"===e.selectUser.status?"切换真人":"切换假人"))]),t("div",{staticClass:"operate-item",on:{click:function(s){e.showDelete=!0}}},[e._v("删除")]),t("div",{directives:[{name:"show",rawName:"v-show",value:"正常"===e.selectUser.status,expression:"selectUser.status === '正常'"}],class:["operate-item",e.loading.agent?"loading":""],style:{backgroundColor:e.selectUser.isAgent?"#6b6b6b":"#09c"},on:{click:e.handleActAsAgent}},[e._v(e._s(e.selectUser.isAgent?"取消代理":"设为代理"))]),t("div",{directives:[{name:"show",rawName:"v-show",value:"正常"===e.selectUser.status,expression:"selectUser.status === '正常'"}],class:["operate-item",e.loading.account?"loading":""],on:{click:e.handleShowAccount}},[e._v("收款账户")]),t("div",{directives:[{name:"show",rawName:"v-show",value:"正常"===e.selectUser.status||"冻结"===e.selectUser.status,expression:"(selectUser.status === '正常' || selectUser.status === '冻结')"}],class:["operate-item",e.loading.freezing?"loading":""],style:{backgroundColor:"冻结"===e.selectUser.status?"#6b6b6b":"#09c"},on:{click:e.handleFreezing}},[e._v(e._s("冻结"!==e.selectUser.status?"冻结踢人":"取消冻结"))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDelete,expression:"showDelete"}],staticClass:"delete-content"},[t("p",[e._v(e._s("是否确认删除用户 ["+e.selectUser.loginName+"]？"))]),t("div",{staticClass:"button-list"},[t("span",{class:[e.loading.delete?"loading":""],on:{click:e.handleEnter}},[e._v("确认")]),t("span",{on:{click:e.handleCancel}},[e._v("取消")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showAccount,expression:"showAccount"}],staticClass:"account-info"},[t("div",{staticClass:"close-shade",on:{click:e.handleCancel}}),e._m(2),t("div",{staticClass:"account-value"},[e._l(e.accountInfoList,(function(s,a){return[t("div",{key:a,staticClass:"value-item"},[t("span",[e._v(e._s(s.type))]),t("span",[e._v(e._s(s.id))])])]})),t("loading",{attrs:{isShow:e.isLoading}}),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading&&!e.accountInfoList.length,expression:"!isLoading && !accountInfoList.length"}],staticClass:"no-data"},[e._v("暂无数据")])],2)])])]),t("loading1",{attrs:{loading:e.showLoading}})],1)}),a,!1,null,null,null);s.default=o.exports},e697:function(e,s,t){"use strict";var a=t("e46b"),n=t("013f")(5),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),a(a.P+a.F*o,"Array",{find:function(e,s){return n(this,e,1<arguments.length?s:void 0)}}),t("0e8b")(i)}}]);