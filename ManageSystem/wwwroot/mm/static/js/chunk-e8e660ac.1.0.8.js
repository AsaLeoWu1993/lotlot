(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e8e660ac"],{"2f21":function(e,t,a){"use strict";var n=a("79e5");e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},"55dd":function(e,t,a){"use strict";var n=a("5ca1"),s=a("d8e8"),i=a("4bf8"),r=a("79e5"),o=[].sort,l=[1,2,3];n(n.P+n.F*(r(function(){l.sort(void 0)})||!r(function(){l.sort(null)})||!a("2f21")(o)),"Array",{sort:function(e){return void 0===e?o.call(i(this)):o.call(i(this),s(e))}})},"75dc":function(e,t,a){},"98f3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAXCAAAAAAwvwDMAAAAdklEQVQoz72SoQ6AIBRF+dqbrWYq2UwlU6lk68tkqhm5zGAAdXN6AmdvJ8DeUGWIKsW7Hi1N6HGbfKoIIhUglDtS4KUbhBJkKr5KsyHQJ+kjaUuw8DRog/7qGU4qKwIVECn/YFG5krBSEYny/y/K2R4tXXybETtnVNGgxASLNwAAAABJRU5ErkJggg=="},c8d2:function(e,t,a){"use strict";var n=a("75dc");a.n(n).a},dc40:function(e,t,a){"use strict";a.r(t);var n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-title"},[a("span",[e._v("今日总投注")]),a("span",[e._v("当前未结")]),a("span",[e._v("今日盈亏")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"user-header"},[t("div",{staticClass:"header-title"},[t("img",{attrs:{src:a("98f3"),alt:"",title:""}}),t("span",[this._v("注单列表")]),t("p",{staticClass:"poptip"},[this._v("信息不完整，请点击查看详细信息")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-title"},[a("span",[e._v("用户名")]),a("span",[e._v("游戏")]),a("span",[e._v("期号")]),a("span",[e._v("注单内容")]),a("span",[e._v("使用积分")]),a("span",[e._v("下注时间")]),a("span",[e._v("状态")])])}],s=(a("55dd"),{data:function(){return{selectType:"0",selectUserType:"1",selectOrderType:"1",activeGameType:"lottery",gameBigList:[{title:"彩票游戏",key:"lottery"},{title:"视讯游戏",key:"video"}],username:"",perids:"",today:{beating:0,winnerLose:0,noComputed:0},page:{total:0,pageSize:1e3,pageNum:1},orderList:[],gameList:[],showLoading:!1,auto:null}},beforeRouteEnter:function(e,t,a){a(function(e){e.auto=function(){e.handleGetList().then(function(){e.handleAllInfo(),setTimeout(function(){e.auto&&e.auto()},3e4)})},e.getGameList().then(function(){e.auto()})})},beforeRouteLeave:function(e,t,a){this.auto=null,a()},methods:{handleSelectGameBigType:function(e){var t=this;t.selectType="0",t.activeGameType=e.key,t.page.pageNum=1,t.handleQuery(),t.getGameList()},getGameList:function(){var e=this;return new Promise(function(t,a){e.gameList=[],"lottery"==e.activeGameType?e.$axios({url:"/api/Merchant/GetGameList"}).then(function(n){if(100===n.data.Status){var s=n.data.Data;e.gameList=s.map(function(e){return{name:e.GameName,type:e.GameType,key:e.NickName,nextPeriods:""}}).sort(function(e,t){return e.type-t.type}),t()}a()}):e.gameList.push({name:"百家乐",type:1,key:"bjl",nextPeriods:""})})},handleQuery:function(){var e=this;e.handleGetList().then(function(){e.handleAllInfo()})},handleShowDetail:function(e){this.$showPoptip(e,"success",1e3)},handleAllInfo:function(){var e,t=this,a={};"0"!=t.selectType&&(a.gameType=t.selectType),a.betType=1,"0"!=t.selectUserType&&(a.userType=t.selectUserType),t.username&&(a.userKeyword=t.username),a.startTime=(6<=(new Date).getHours()?new Date:new Date((new Date).setDate((new Date).getDate()-1))).pattern("yyyy-MM-dd")+" 06:00",a.endTime=new Date((new Date).setDate((new Date).getDate()+1)).pattern("yyyy-MM-dd")+" 06:00",t.perids&&(a.nper=t.perids),e="lottery"==t.activeGameType?"/api/Monito/GetProfitLossInfo":"/api/Monito/GetVideoProfitLossInfo",t.$axios({url:e,params:a}).then(function(e){if(100===e.data.Status){var a=e.data.Model;t.today.beating=a.Flow,t.today.winnerLose=a.ProLoss,t.today.noComputed=a.Unfinished}})},handleRevokeOrder:function(){var e,t=this,a={betType:2};"0"!=t.selectUserType&&(a.userType=t.selectUserType),"0"!=t.selectType&&(a.gameType=t.selectType),t.username&&(a.userKeyword=t.username),a.startTime=(6<=(new Date).getHours()?new Date:new Date((new Date).setDate((new Date).getDate()-1))).pattern("yyyy-MM-dd")+" 06:00",a.endTime=new Date((new Date).setDate((new Date).getDate()+1)).pattern("yyyy-MM-dd")+" 06:00",t.perids&&(a.nper=t.perids),e="lottery"==t.activeGameType?"/api/Monito/RevokeNoteList":"/api/Monito/RevokeVideoNoteList",t.isLoading||(t.isLoading=!0,t.showLoading=!0,t.$axios({url:e,method:"post",params:a}).then(function(e){100===e.data.Status?t.$showPoptip(e.data.Message,"success",800):t.$showPoptip(e.data.Message,"error",800),t.showLoading=!1,t.isLoading=!1,t.handleQuery()}))},handleGetList:function(){var e,t=this,a={};return"0"!=t.selectType&&(a.gameType=t.selectType),a.betType=t.selectOrderType,"0"!=t.selectUserType&&(a.userType=t.selectUserType),t.username&&(a.userKeyword=t.username),a.startTime=(6<=(new Date).getHours()?new Date:new Date((new Date).setDate((new Date).getDate()-1))).pattern("yyyy-MM-dd")+" 06:00",a.endTime=new Date((new Date).setDate((new Date).getDate()+1)).pattern("yyyy-MM-dd")+" 06:00",t.perids&&(a.nper=t.perids),a.start=t.page.pageNum,a.pageSize=t.page.pageSize,e="lottery"==t.activeGameType?"/api/Monito/GetProfitLossByType":"/api/Monito/GetVideoProfitLossByType",new Promise(function(n,s){t.showLoading=!0,t.$axios({url:e,params:a}).then(function(e){if(100===e.data.Status){var a=e.data.Data;t.page.total=e.data.Total,t.orderList=a.map(function(e){return{username:e.NickName,showId:e.OnlyCode,gameName:e.GameName,perids:e.Nper,currentBet:e.BetContent,bet:e.UserBetMoney,time:e.BetTime.substr(11,16),status:e.Status,lastProLoss:"未开奖"!==e.Status?e.ProLoss:"-"}})}t.showLoading=!1,n()})})}}}),i=(a("c8d2"),a("2877")),r=Object(i.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"monitor"},[a("div",{staticClass:"top"},[a("div",{staticClass:"query"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectType,expression:"selectType"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[e._v("所有游戏")]),e._l(e.gameList,function(t,n){return[a("option",{key:n,domProps:{value:t.type}},[e._v(e._s(t.name))])]})],2),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectUserType,expression:"selectUserType"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectUserType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("正式用户")]),a("option",{attrs:{value:"4"}},[e._v("虚假用户")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectOrderType,expression:"selectOrderType"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectOrderType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1"}},[e._v("所有注单")]),a("option",{attrs:{value:"3"}},[e._v("已结注单")]),a("option",{attrs:{value:"2"}},[e._v("未结注单")])])]),a("div",{staticClass:"query"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{placeholder:"输入玩家用户名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.perids,expression:"perids"}],attrs:{placeholder:"输入期号"},domProps:{value:e.perids},on:{input:function(t){t.target.composing||(e.perids=t.target.value)}}})]),a("div",{staticClass:"query-operate"},[a("div",{staticClass:"operate-item",on:{click:e.handleQuery}},[e._v("查询")]),a("div",{staticClass:"operate-item",on:{click:e.handleRevokeOrder}},[e._v("撤销所有未结订单")])]),a("div",{staticClass:"poptip"},[e._v("注：在不输入期号的情况下，默认只查询统计当日注单")]),a("div",{staticClass:"all-info"},[e._m(0),a("div",{staticClass:"info-value"},[a("span",[e._v(e._s(e.today.beating))]),a("span",[e._v(e._s(e.today.noComputed))]),a("span",[e._v(e._s(e.today.winnerLose))])])])]),a("div",{staticClass:"content"},[e._m(1),e._m(2),a("div",{ref:"list",staticClass:"user-content"},[e._l(e.orderList,function(t,n){return[a("div",{key:n,staticClass:"user-item"},[a("span",[e._v(e._s(t.username))]),a("span",{on:{click:function(a){return e.handleShowDetail(t.gameName)}}},[e._v(e._s(t.gameName))]),a("span",{on:{click:function(a){return e.handleShowDetail(t.perids)}}},[e._v(e._s(t.perids))]),a("span",{on:{click:function(a){return e.handleShowDetail(t.currentBet)}}},[e._v(e._s(t.currentBet))]),a("span",[e._v(e._s(t.bet))]),a("span",[e._v(e._s(t.time))]),a("span",[e._v(e._s(t.status))])])]})],2)]),a("loading1",{attrs:{loading:e.showLoading}})],1)},n,!1,null,null,null);t.default=r.exports}}]);