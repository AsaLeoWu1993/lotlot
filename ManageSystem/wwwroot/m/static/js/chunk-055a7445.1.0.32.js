(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-055a7445"],{"39dd":function(t,e,o){"use strict";o("9a33"),o("e204"),o("6d57"),o("c904");var i=o("702a"),n=o("ecd2"),s={props:{showList:{type:Boolean,default:!1},showFlag:{type:Boolean,default:!0},showHeight:{type:Boolean,default:!0}},data:function(){return{videoShortWrapper:null,videoList:[],flush:{start:0,end:0,isFlushing:!1,isEnd:!1,flag:""},bjlRoomCanJoin:!1,showVideoList:!1,videoNameList:{bjl:o("7241"),nn:"牛牛",lh:"龙虎"},interval:null}},mounted:function(){var t=this;(!t.lotterySignalr.signalr||t.lotterySignalr.signalr&&1!==t.lotterySignalr.signalr.connection.connectionState)&&t.lotterySignalr.reStart(100),t.lotterySignalr.handleGetRoomList(),t.interval=setInterval((function(){t.countDown()}),1e3),i.a.$on("SendGameStatusInfo",(function(e){t.handleVideoData(e)})),i.a.$on("VideoRoomStatus",(function(e){t.bjlRoomCanJoin=e})),i.a.$on("SendBaccaratListInfo",(function(e){t.handleVideoData(e)})),i.a.$on("SendBaccaratList",(function(e){try{e&&"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)?(e.sort((function(t,e){return t.ZNum-e.ZNum})),e.forEach((function(e){t.handleVideoData(e)}))):t.handleVideoData(e)}catch(e){}}))},methods:{countDown:function(){this.videoList.forEach((function(t,e){0<t.countDown&&(t.countDown--,t.countDownText=("00"+t.countDown).slice(-3))}))},handleVideoData:function(t){var e,o=this,i=null;try{i=JSON.parse(t)}catch(e){i=t}e=o.videoList.findIndex((function(t){return t.zNum===i.ZNum}));var s=i.History?o.handleTranseArray(o.handleBigEye(i.History.split(","))):[];if(-1!==e)o.videoList.splice(e,1,{key:"bjl",name:i.ZName||i.ZNum+"号桌",countDown:i.Ttime,countDownText:"",status:i.Cstate,periods:i.Scene,resultData:s,img:o.$dataTransPicBigEye(s,85),zNum:i.ZNum,id:i.ZName||i.ZNum+"号桌",url:i.Url});else{if(!i.ZNum)return;o.videoList.push({key:"bjl",name:i.ZName||i.ZNum+"号桌",countDown:i.Ttime,countDownText:"",status:i.Cstate,periods:i.Scene,resultData:s,img:o.$dataTransPicBigEye(s,85),zNum:i.ZNum,id:i.ZName||i.ZNum+"号桌",url:i.Url})}o.$nextTick((function(){var t=document.querySelector("#box");t&&o.$refs["video-short-wrapper"].setAttribute("style","height: ".concat(getComputedStyle(t,null).height)),o.videoShortWrapper||(o.videoShortWrapper=new n.a(o.$refs["video-short-wrapper"],{click:!0})),o.videoShortWrapper.refresh()}))},handleBigEye:function(t){for(var e=[],o=t,i="",n="",s="",a=0;a<o.length;a++){switch(o[a]){case"1":case"4":case"7":case"10":i="z-winner";break;case"2":case"5":case"8":case"11":i="x-winner";break;case"3":case"6":case"9":case"12":s=-1!==n.indexOf("draw")?"-draw-".concat(parseInt(n.slice(-1))+1):"-draw-1",i=n.slice(0,8)+s}n&&(-1===n.indexOf("draw")&&-1===i.indexOf("draw")||-1===i.indexOf("draw"))&&e.push(n),n=i}return e.push(i),e},handleTranseArray:function(t){var e="",o=[],i=[];return t.forEach((function(t){e.slice(0,1)==t.slice(0,1)?o.push(t):(e&&i.push(o),o=[e=t]),e||"0"==e||(e=t,o.push(e))})),i.push(o),i},handleJoinVideoRoom:function(t,e){var o=this;if("bjl"!==t.key||o.bjlRoomCanJoin){var i=o.getLocalData("videoInfo");"string"==typeof i&&(i=JSON.parse(i));var n=o.videoList[e];(i&&i.videoZNum!=n.zNum||!o.showFlag)&&(o.setLocalData("videoInfo",JSON.stringify({videoZNum:n.zNum,videoUrl:n.url,videoKey:n.key,countDown:n.countDown,periods:n.periods})),o.showVideoList=!1,o.$emit("changeRoom")),o.$emit("changeShow",o.showList)}else o.showPoptip("房间已关闭！","error",1200)}}},a=(o("c750"),o("5511")),r=Object(a.a)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"video-box-shade"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.showList&&t.showFlag,expression:"!showList && showFlag"}],staticClass:"show-video-list",domProps:{textContent:t._s("》")},on:{click:function(e){return t.$emit("changeShow",!1)}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"video-box",style:{height:t.showHeight?"calc(100% - 1rem)":"100%"},attrs:{id:"video-list"},on:{click:function(e){return t.$emit("changeShow",!0)}}},[o("div",{staticClass:"box",attrs:{id:"box"}},[o("div",{ref:"video-short-wrapper",staticClass:"wrapper"},[o("div",{staticClass:"content"},t._l(t.videoList,(function(e,i){return o("div",{key:"video"+i,class:["video-item","video-item-"+e.key],on:{click:function(o){return t.handleJoinVideoRoom(e,i)}}},[o("div",{staticClass:"video-header"},[o("img",{attrs:{src:t.videoNameList[e.key],alt:"video"}})]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.countDown&&"init"===e.status,expression:"item.countDown && item.status === 'init'"}],staticClass:"video-header-count-down"},[o("div",{staticClass:"count-item",domProps:{textContent:t._s(e.countDownText[0]||"0")}}),o("div",{staticClass:"count-item",domProps:{textContent:t._s(e.countDownText[1]||"0")}}),o("div",{staticClass:"count-item",domProps:{textContent:t._s(e.countDownText[2]||"0")}})]),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.countDown||"init"!==e.status,expression:"!item.countDown || item.status !== 'init'"}],staticClass:"video-header-count-down"},[o("div",{staticClass:"count-item"},[t._v("0")]),o("div",{staticClass:"count-item"},[t._v("0")]),o("div",{staticClass:"count-item"},[t._v("0")])]),o("div",{staticClass:"video-periods"},[o("span",{domProps:{textContent:t._s(e.name)}})]),o("div",{staticClass:"video-data",style:{"justify-content":9<e.resultData.length?"flex-end":"flex-start"}},[o("img",{attrs:{src:e.img,alt:""}})])])})),0)]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showList&&t.showFlag,expression:"showList && showFlag"}],staticClass:"hide-video-list",domProps:{textContent:t._s("《")},on:{click:function(e){return t.$emit("changeShow",!0)}}})])])])}),[],!1,null,"2b634738",null);e.a=r.exports},7241:function(t,e){t.exports="data:image/png;base64,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"},c750:function(t,e,o){"use strict";var i=o("e870");o.n(i).a},e870:function(t,e,o){}}]);