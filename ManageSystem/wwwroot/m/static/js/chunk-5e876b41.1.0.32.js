(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5e876b41"],{"25f4":function(e,t,a){"use strict";a.r(t),a("c904"),a("9dd9"),a("f548"),a("9e76"),a("6d57"),a("e697"),a("e204"),a("9a33");var n=a("9d63"),s=a("a39e"),o=a("042f"),i=a("702a"),r=a("39dd"),c=a("9d2f"),l=a("ecd2"),h={components:{analogKeyboard:n.a,gameHeader:s.a,picBanlance:c.a,vLoading:o.a,videoList:r.a},data:function(){return{wrapper:null,goToBottom:!1,showVideoList:!1,vWidth:"372px",rawData:[],showRawData:[],videoInfo:{ZPoint:0,XPoint:0},animationUrl:"",show:!0,loadingText:"",width:document.body.clientWidth,bigImg:{show:!1,img:""},flushMes:{start:0,end:0,isFlushing:!1,isEnd:!1,flag:""},lastStatus:0,showKeyboard:!1,showMethod:0,allGamer:0,lastSendDate:null,serviceInfo:{show:!1,wechat:"",QQ:""},gameInfo:{periods:"",nextPeriods:"",countDown:0,gameType:"",lotteryStatus:"",lotteryStatusCode:0,name:"",type:1,lotteryNum:[],mes:[],openMore:!1,keyboardType:"mode1",inputShow:!1,showAnimation:!1,videoTitle:"",videoStatus:!0,showExit:!1},gameList:[],lotteryList:[],userInfo:{},enterContent:"",messageList:[],historyMessageList:[],isLoading:!1,page:0,flush:{start:0,end:0,isFlushing:!1,isEnd:!1},noMoreData:!1,moreData:!1,flushAmount:!1,mesPoptip:!1,isBack:!1,roomName:"",gameName:"",moreHistory:{show:!1,url:""},keyboardTypeMap:{bjl:"mode3",lh:"mode4",nn:"mode5"},ovplay:null,videoZNum:null,feedBackIdList:[],lotteryImgCounter:0,addEventStatus:!1,videoNameList:{bjl:"百家乐",nn:"牛牛",lh:"龙虎"},videoTypeList:{bjl:1,nn:2,lh:3},changChi:"",touch:{pointX:0},interval2:null,startTime:0,endTime:0,playStopAudio:!1}},computed:{videoData:function(){var e=this;return e.$dataTransPicZXH(e.handleTranseRawData(e.showRawData),135,!0)},videoBigEye:function(){var e=this;return e.handleTranseArray(e.handleBigEye(e.showRawData))},videoBigEyeImg:function(){var e=this;return e.$dataTransPicBigEye(e.handleTranseArray(e.handleBigEye(e.showRawData)),135,!0)},videoBigEyeR:function(){var e=this,t=e.handleTranseArray(e.handleBigEye(e.showRawData)).reverse();return e.$dataTransPicBigEyeR(e.handleComputeBigER(t),122,!0)},videoCockroach:function(){var e=this,t=e.handleTranseArray(e.handleBigEye(e.showRawData)).reverse();return e.$dataTransPicCockroach(e.handleComputeCockroach(t),122,!0)},videoCockroachR:function(){var e=this,t=e.handleTranseArray(e.handleBigEye(e.showRawData)).reverse();return e.$dataTransPicCockroachR(e.handleComputeCockroachR(t),122,!0)},showCurrentResult:function(){var e="";if(0<this.rawData.length)switch(this.rawData.slice(-1)[0]){case"1":case"4":case"7":case"10":e="z";break;case"2":case"5":case"8":case"11":e="x";break;case"3":case"6":case"9":case"12":e="h"}return e}},created:function(){var e=this;i.a.$emit("navigateShow",!1),e.$nextTick((function(){var t=document.querySelector("#mes-list");t&&e.$refs.wrapper.setAttribute("style","height: ".concat(getComputedStyle(t,null).height))}));var t=document.documentElement.clientHeight||document.body.clientHeight;window.onresize=function(){+(document.documentElement.clientHeight||document.body.clientHeight)<+t||(e.gameInfo.inputShow=!1)},document.body.addEventListener("focusin",(function(){})),document.body.addEventListener("focusout",(function(){e.gameInfo.inputShow=!1})),i.a.$on("VideoRoomStatus",(function(t){t||(e.showPoptip("房间已关闭!","error",1200),e.$router.push({name:"home"}))})),i.a.$on("PointChange",(function(t){e.userInfo.amount=t})),i.a.$on("SendLoginStatic",(function(e){})),i.a.$on("VideoOnlineNum",(function(t){e.allGamer=t})),i.a.$on("handleExitRoom",(function(){e.handleExit()})),i.a.$on("startReConnect",(function(){})),i.a.$on("endReConnect",(function(){e.loadingText="",e.messageList=[],e.show=!1,e.lotterySignalr.handleRoomInfo()})),i.a.$on("restart",(function(){e.messageList=[],e.lotterySignalr.handleRoomInfo()})),i.a.$on("SendBaccaratRoomInfo",(function(t){try{t&&"string"==typeof t&&(t=JSON.parse(t))}catch(t){return}switch(e.rawData=t.History.split(","),e.showRawData=e.rawData.concat(),e.animationUrl=t.Url,e.gameInfo.countDown=t.Ttime,45==e.gameInfo.countDown&&e.handlePlayAudio("qxz"),t.Cstate){case"init":e.gameInfo.lotteryStatus="0";break;case"opening":case"free":e.gameInfo.lotteryStatus="1";break;case"close":e.gameInfo.lotteryStatus="2"}})),i.a.$on("SendNewestGameInfo",(function(e){try{e&&"string"==typeof e&&(e=JSON.parse(e))}catch(e){return}})),i.a.$on("BetSendReturn",(function(t){try{t&&"string"==typeof t&&(t=JSON.parse(t))}catch(t){return}t.Message&&e.showPoptip(t.Message,"error",1200)})),i.a.$on("VideoHistoryList",(function(t){e.handleGetMessageVideo(t)})),i.a.$on("SendGameStatusInfo",(function(t){try{t&&"string"==typeof t&&(t=JSON.parse(t))}catch(t){return}if(t.hasOwnProperty("message")){var a=null;try{a=JSON.parse(t.message)}catch(t){return}if(a.ZNum==e.videoZNum){var n=a.Scene.split("-");switch("free"==a.Cstate&&(e.gameInfo.nextPeriods=a.Scene,e.gameInfo.periods="".concat(n[0],"-").concat(n[1],"-").concat(parseInt(n[2])+1)),a.Cstate){case"init":e.gameInfo.lotteryStatus="0";break;case"opening":case"free":e.gameInfo.lotteryStatus="1";break;case"close":e.gameInfo.lotteryStatus="2"}a.History&&(e.rawData=a.History.split(","),"free"==a.Cstate&&e.$nextTick((function(){e.handlePlayAudio(e.showCurrentAudioType())})),e.showRawData=e.rawData.concat(),e.gameInfo.countDown=a.Ttime,45==e.gameInfo.countDown&&e.handlePlayAudio("qxz"))}}})),i.a.$on("Feedback",(function(t){var a=e.feedBackIdList.findIndex((function(e){return e==t}));-1<a?e.feedBackIdList.splice(a,1):e.feedBackIdList.push(t);var n=e.messageList,s=n.findIndex((function(e){return e.time==t}));if(-1!==s){var o=n.find((function(e){return e.time==t}));o.fail&&(o.fail=!1,e.messageList.splice(s,1,o),e.$nextTick((function(){var a=sessionStorage.getItem("failMessage");a?a&&"string"==typeof a&&(a=JSON.parse(a)):a=[];var n=a.findIndex((function(e){return e.time==t}));-1!==n?(a.splice(n,1),sessionStorage.setItem("failMessage",JSON.stringify(a))):e.feedBackIdList.push(t)})))}else e.feedBackIdList.push(t)})),i.a.$on("page-show-room",(function(){e.mesPoptip=!0,e.lotterySignalr.exitVideoRoom(),e.lotterySignalr.exitRoom(),e.lotterySignalr.exitRoomList(),e.lotterySignalr.changeJoinIndex(),e.goBack()}))},activated:function(){var e=this;e.setLocalData("roomType","video"),i.a.$emit("cur-page","room"),e.interval2||(e.interval2=setInterval((function(){e.startTime=+new Date,1<=e.gameInfo.countDown&&e.gameInfo.countDown--&&(e.playStopAudio=!0),0==e.gameInfo.countDown&&e.playStopAudio&&e.handlePlayAudio("tzxz"),e.endTime=+new Date}),1e3-(e.endTime-e.startTime))),setTimeout((function(){/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?e.vWidth=window.innerWidth+"px":e.vWidth=Math.ceil(375*window.innerHeight/667)+"px";var t=e.getLocalData("userInfo"),a=e.getLocalData("videoInfo"),n=e.getLocalData("mesPoptip");e.setLocalData("gameType",1),"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof a&&(a=JSON.parse(a)),e.mesPoptip="OK"==n,e.handleHiddenBoard(),e.$nextTick((function(){if(t&&a){e.userInfo=t,e.lotterySignalr.handleRoomInfo(),e.animationUrl=a.videoUrl,e.videoZNum=a.videoZNum,e.gameInfo.type=a.videoKey;var n=a.periods.split("-");e.gameInfo.nextPeriods="".concat(n[0],"-").concat(n[1],"-").concat(parseInt(n[2])-1),e.gameInfo.periods=a.periods,e.gameInfo.countDown=a.countDown,e.gameInfo.keyboardType=e.keyboardTypeMap[e.gameInfo.type],e.gameName=e.videoZNum+"号桌",e.handlePlay()}else e.$router.push({name:"login"})}))}),300)},deactivated:function(){var e=this;e.firstLoad=!1,e.enterContent="",e.handleHiddenBoard(),e.showMethod=0,e.mesPoptip=!0,e.lotterySignalr.exitVideoRoom()},methods:{handleBoxTouchStart:function(e){this.touch.pointX=e.changedTouches[0].pageX},handleBoxTouchMove:function(){},handleBoxTouchEnd:function(e){100<=e.changedTouches[0].pageX-this.touch.pointX?this.showVideoList=!0:this.showVideoList=!1},handleChangeShow:function(e){this.showVideoList=!e,e||(this.gameInfo.inputShow=!1,this.showKeyboard=!1)},showCurrentAudioType:function(){var e="";if(0<this.rawData.length)switch(this.rawData.slice(-1)[0]){case"1":e="zy";break;case"4":e="zyzd";break;case"7":e="zyxd";break;case"10":e="zyzxd";break;case"2":e="xy";break;case"5":e="xyzd";break;case"8":e="xyxd";break;case"11":e="xyzxd";break;case"3":e="h";break;default:e=""}return e},handleChangeRoom:function(){var e=this,t=e.getLocalData("videoInfo");"string"==typeof t&&(t=JSON.parse(t)),e.lotterySignalr.handleRoomInfo(),e.animationUrl=t.videoUrl,e.videoZNum=t.videoZNum,e.gameInfo.type=t.videoKey;var a=t.periods.split("-");e.gameInfo.nextPeriods="".concat(a[0],"-").concat(a[1],"-").concat(parseInt(a[2])-1),e.gameInfo.periods=t.periods,e.gameInfo.countDown=t.countDown,e.gameInfo.keyboardType=e.keyboardTypeMap[e.gameInfo.type],e.gameName=e.videoZNum+"号桌",e.messageList=[],e.gameInfo.showAnimation&&window.OVPlayerFlv&&(e.ovplay||(e.ovplay=new window.OVPlayerFlv,e.ovplay.setView("video-canvas")),e.ovplay.stop(),e.animationUrl=localStorage.getItem("videoUrl"),e.ovplay.play(e.animationUrl))},handlePrevent:function(e){1!=e.target.dataset.can&&e.preventDefault()},handleChangeVideo:function(){if(!window.OVPlayerFlv)return!1;var e=this,t=e.animationUrl,a=t.split("-"),n=t.slice(0,29),s="",o="00".concat(e.videoZNum).slice(-3);switch(e.gameInfo.type){case"bjl":s="b";break;case"lh":s="l";break;case"nn":s="n"}if(e.ovplay||(e.ovplay=new window.OVPlayerFlv,e.ovplay.setView("video-canvas")),e.ovplay.stop(),e.gameInfo.showAnimation){switch(a[1]){case"0.flv":n+="".concat(s).concat(o,"-1.flv");break;case"1.flv":n+="all-10.flv";break;case"10.flv":n+="".concat(s).concat(o,"-0.flv")}e.animationUrl=n,e.ovplay.play(e.animationUrl)}},handleBigEye:function(e){for(var t=[],a=e,n="",s="",o="",i=0;i<a.length;i++){switch(a[i]){case"1":case"4":case"7":case"10":n="z-winner";break;case"2":case"5":case"8":case"11":n="x-winner";break;case"3":case"6":case"9":case"12":o=-1!==s.indexOf("draw")?"-draw-".concat(parseInt(s.slice(-1))+1):"-draw-1",n=s.slice(0,8)+o}s&&(-1===s.indexOf("draw")&&-1===n.indexOf("draw")||-1===n.indexOf("draw"))&&t.push(s),s=n}return t.push(n),t},handleTranseArray:function(e){var t="",a=[],n=[];return e.forEach((function(e){t.slice(0,1)==e.slice(0,1)?a.push(e):(t&&n.push(a),a=[t=e]),t||"0"==t||(t=e,a.push(t))})),n.push(a),n},handleTranseRawData:function(e){for(var t=[],a=e,n=0;n<a.length;n++)switch(a[n]){case"1":t.push("1");break;case"2":t.push("2");break;case"3":t.push("3");break;case"4":t.push("1-1");break;case"5":t.push("2-1");break;case"6":t.push("3-1");break;case"7":t.push("1-2");break;case"8":t.push("2-2");break;case"9":t.push("3-2");break;case"10":t.push("1-3");break;case"11":t.push("2-3");break;case"12":t.push("3-3")}return t},handleOperateVideo:function(e){switch(e){case"z":this.showRawData.push("1");break;case"x":this.showRawData.push("2");break;case"r":this.showRawData=this.rawData.concat()}},handleComputeCockroachR:function(e){for(var t=[],a=[],n=[],s=[],o=[],i=[],r="",c="",l=0;l<e.length-4;l++){t=e[l],a=e[l+1],n=e[l+3],s=e[l+4];for(var h=t.length;0<h;h--)h>n.length+1?r="red":h==n.length+1?r="blue":1==h?r=a.length===s.length?"red":"blue":h<=n.length&&(r="red"),c?c==r?o.push(r):(i.push(o),(o=[]).push(r),c=r):(c=r,o.push(r))}return i.push(o),i.reverse()},handleComputeCockroach:function(e){for(var t=[],a=[],n=[],s=[],o=[],i=[],r="",c="",l=0;l<e.length-3;l++){t=e[l],a=e[l+1],n=e[l+2],s=e[l+3];for(var h=t.length;0<h;h--)h>n.length+1?r="red":h==n.length+1?r="blue":1==h?r=a.length===s.length?"red":"blue":h<=n.length&&(r="red"),c?c==r?o.push(r):(i.push(o),(o=[]).push(r),c=r):(c=r,o.push(r))}return i.push(o),i.reverse()},handleComputeBigER:function(e){for(var t=[],a=[],n=[],s=[],o=[],i="",r="",c=0;c<e.length-2;c++){t=e[c],a=e[c+1],n=e[c+2];for(var l=t.length;0<l;l--)l>a.length+1?i="red":l==a.length+1?i="blue":1==l?i=a.length===n.length?"red":"blue":l<=a.length&&(i="red"),r?r==i?s.push(i):(o.push(s),(s=[]).push(i),r=i):(r=i,s.push(i))}return o.push(s),o.reverse()},showMoreHistory:function(e){this.moreHistory.url="",this.moreHistory.url=e},handleChangeVoice:function(e){try{api.accessNative({name:"voice",open:e})}catch(e){}},handleShowError:function(e){this.messageList.forEach((function(t){t.fail&&(t.time===e.time?t.showFailOpeare=!t.showFailOpeare:t.showFailOpeare=!1)}))},handlePlay:function(){var e=this;e.showVideoList=!1,e.gameInfo.showAnimation=!e.gameInfo.showAnimation,window.OVPlayerFlv&&(e.ovplay||(e.ovplay=new window.OVPlayerFlv,e.ovplay.setView("video-canvas")),e.gameInfo.showAnimation?e.ovplay.play(e.animationUrl):e.ovplay.stop())},handleBlur:function(){if(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))var e=setTimeout((function(){window.scrollTo(0,window.pageYOffset),clearTimeout(e)}),200)},handleError:function(e){e.header=a("4fa0")},handleMessagePoptip:function(){var e=this;e.setLocalData("mesPoptip",e.mesPoptip?"":"OK"),e.mesPoptip=!e.mesPoptip,e.showPoptip("消息免打扰".concat(e.mesPoptip?"已开启":"已关闭"),"success",1200),e.showMethod=0},handlePlayAudio:function(e){e&&!this.mesPoptip&&(this.playStopAudio=!1,i.a.$emit("playAudio",e))},handleClearAll:function(){this.showPoptip("已清空聊天记录","success",1200),this.showMethod=0},handleGetMessageVideo:function(e){var t=this,n=null;try{n=JSON.parse(e)}catch(t){n=e}if(20<=t.messageList.length)for(var s=0;s<t.messageList.length-20;s++)260<t.historyMessageList.length&&t.historyMessageList.shift(),t.historyMessageList.push(t.messageList.shift());try{var o=JSON.parse(n.Message).Bill.map((function(e){var t=e.split(":");return{name:t[0],banlance:t[1]}}));return o.length%2!=0&&o.push({name:"",banlance:""}),t.messageList.push({id:n.UserID,nickname:n.NickName,header:n.Avatar?t.getPicUrl(n.Avatar):a("5756"),message:o,href:"",type:"banlance",time:+new Date}),void t.$nextTick((function(){t.scrollBottom()}))}catch(t){}var i=/(www.|[a-zA-Z].)[a-zA-Z0-9\-\.]+\.(com|edu|gov|mil|net|org|biz|info|name|museum|us|ca|uk)/g,r=n.Message.match(i);t.messageList.push({id:n.UserID,nickname:n.NickName,header:n.Avatar?t.getPicUrl(n.Avatar):a("5756"),message:n.Message.replace(i,""),href:r?r[0]:null,type:"normal",img:""}),t.$nextTick((function(){t.scrollBottom()}))},handleBigImg:function(e){this.bigImg.img=e,this.bigImg.show=!0},transTime:function(e){return 0<e?("00"+e).slice(-3).split(""):["0","0","0"]},handleAI:function(){this.$router.push({name:"aIIndex"})},handleGrabEnvelope:function(){this.$router.push({name:"grabEnvelope"})},goBack:function(){this.handleHiddenBoard(),this.$router.push({name:"home"})},handleExit:function(){this.gameInfo.showExit=!1,this.lotterySignalr.exitRoom(),this.$router.push({name:"home"})},handleShowMethod:function(){var e=this;switch(e.showMethod){case 0:e.showMethod=1,setTimeout((function(){e.showMethod=2}),300);break;case 1:case 2:e.showMethod=1,setTimeout((function(){e.showMethod=0}),50)}},handleShowMethodT:function(e){return this.handleShowMethod(),e.stopPropagation(),e.preventDefault(),!1},handleFlushAmount:function(e){var t=0<arguments.length&&void 0!==e?e:"manual",a=this;a.flushAmount||("manual"!==t&&(a.flushAmount=!0),a.$axios({url:"/api/SwUser/GetUserIntegral"}).then((function(e){100===e.data.Status&&(a.userInfo.amount=e.data.Model),a.flushAmount=!1})).catch((function(e){a.flushAmount=!1})))},handleMoreLottery:function(){this.gameInfo.openMore=!this.gameInfo.openMore},handleHiddenBoard:function(){var e=this;e.showKeyboard=!1,e.gameInfo.openMore=!1,e.gameInfo.showAnimation=!1,window.OVPlayerFlv&&(e.ovplay||(e.ovplay=new window.OVPlayerFlv,e.ovplay.setView("video-canvas")),e.ovplay.stop()),e.showVideoList=!1},handleShowFailMes:function(){var e=this,t=sessionStorage.getItem("failMessage");t&&(t&&"string"==typeof t&&(t=JSON.parse(t)),t.forEach((function(t){t.gameType==e.gameInfo.gameType&&-1===e.messageList.findIndex((function(e){return e.time===t.time}))&&e.messageList.push(t)})),e.$nextTick((function(){e.scrollBottom()})))},handleDelFail:function(e){var t=sessionStorage.getItem("failMessage");if(t){t&&"string"==typeof t&&(t=JSON.parse(t));var a=t.findIndex((function(t){return t.time===e.time}));-1!==a&&t.splice(a,1),sessionStorage.setItem("failMessage",JSON.stringify(t)),-1!==(a=this.messageList.findIndex((function(t){return t.time===e.time})))&&this.messageList.splice(a,1)}},handleSend:function(e){var t=this,a={},n=(new Date).getTime(),s="",o=null,i=new RegExp("^((取消)|(全部取消)|(查)|(上分)|(下分)|(返水))"),r=new RegExp("^(((庄|闲|和|(庄对)|(闲对))/?([0-9])+))$"),c=new RegExp("^((([0-9])*(大|小|单|双)([0-9])+)|(([0-9])*/([0-9])+/([0-9])+)|(([0-9])*(龙|虎)([0-9])+)|(和([0-9])+/([0-9])+)|(和(大|小|单|双)([0-9])+))$"),l=new RegExp("^((([0-9])*(大|小|单|双)([0-9])+)|(([0-9])*/([0-9])+/([0-9])+)|(([0-9])*(龙|虎)([0-9])+)|(和([0-9])+/([0-9])+)|(和(大|小|单|双)([0-9])+))$");if(e.message||t.enterContent){switch(s=e.message||t.enterContent,t.gameInfo.keyboardType){case"mode3":o=r.test(s);break;case"mode4":o=c.test(s);break;case"mode5":o=l.test(s)}if("0"!==t.gameInfo.lotteryStatus&&!i.test(s)&&o)return t.enterContent="",t.handleHiddenBoard(),void t.showPoptip("封盘中，操作无效","error",1200);if(!t.lastSendDate||1e3<=n-t.lastSendDate){if(e.message){a.gameType=t.videoTypeList[t.gameInfo.type],a.message=e.message,a.uuid=n;var h=sessionStorage.getItem("failMessage");if(h){h&&"string"==typeof h&&(h=JSON.parse(h));var d=h.findIndex((function(t){return t.time===e.time}));-1<d&&h.splice(d,1),sessionStorage.setItem("failMessage",JSON.stringify(h)),-1<(d=t.messageList.findIndex((function(t){return t.time===e.time})))&&t.messageList.splice(d,1)}t.messageList.push({id:t.userInfo.userId,nickname:t.userInfo.nickname,header:t.userInfo.userHead,message:a.message,gameType:a.gameType,time:n,showFailOpeare:!1,fail:!1})}else a.gameType=t.videoTypeList[t.gameInfo.type],a.message=t.enterContent,a.uuid=n,t.messageList.push({id:t.userInfo.userId,nickname:t.userInfo.nickname,header:t.userInfo.userHead,message:a.message,gameType:a.gameType,time:n,showFailOpeare:!1,fail:!1});t.$nextTick((function(){t.scrollBottom(!0)})),a.znum=t.videoZNum,(t.enterContent||e.message)&&(t.enterContent="",t.lastSendDate=n,t.showKeyboard=!1,t.$axios({url:"/api/SwUser/VideoUserSendMessage",params:a}).then((function(e){t.$nextTick((function(){t.scrollBottom(!0)}));var a=t.feedBackIdList.findIndex((function(e){return e==n}));-1<a?t.feedBackIdList.splice(a,1):t.feedBackIdList.push(n)})).catch((function(){if(!(-1<t.feedBackIdList.findIndex((function(e){return e==n})))){var e=t.messageList.findIndex((function(e){return e.time===n})),s=sessionStorage.getItem("failMessage");s?s&&"string"==typeof s&&(s=JSON.parse(s)):s=[];var o={id:t.userInfo.userId,nickname:t.userInfo.nickname,header:t.userInfo.userHead,message:a.message,gameType:a.gameType,time:n,showFailOpeare:!1,fail:!0};s.push(o),sessionStorage.setItem("failMessage",JSON.stringify(s)),t.messageList.splice(e,1,o),t.$nextTick((function(){t.scrollBottom(!0)}))}})))}else t.showPoptip("操作频繁，请稍后再试!","error",1200)}},scrollBottom:function(e){var t=0<arguments.length&&void 0!==e&&e,a=this;a.wrapper||(a.wrapper=new l.a(a.$refs.wrapper,{click:!0,pullDownRefresh:{threshold:50,probeType:3}}),a.wrapper.on("pullingDown",(function(){if(0<a.historyMessageList.length)for(var e=null,t=0;t<10;t++)(e=a.historyMessageList.sort((function(e,t){return e.time-t.time})).shift())&&a.messageList.unshift(e);a.wrapper.refresh(),a.wrapper.finishPullDown()})),a.wrapper.on("scrollEnd",(function(){(Math.abs(a.wrapper.maxScrollY)-Math.abs(a.wrapper.y)<=10||t)&&(a.goToBottom=!1)}))),Math.abs(a.wrapper.y)==Math.abs(a.wrapper.maxScrollY)||t?(a.goToBottom=!1,a.wrapper.refresh(),a.wrapper.scrollTo(0,a.wrapper.maxScrollY)):(a.goToBottom=!0,a.wrapper.refresh())},handleSwitchInput:function(){this.gameInfo.inputShow=!0},handleKeyboardInput:function(e){var t=this,a="";switch(e.key){case"allCancel":case"cancel":case"upper-score":case"query":case"lower-score":case"top-three":case"middle-three":case"later-three":case"the-sum":case"buy-freely":case"z-pairs":case"x-pairs":case"arbitrarily":case"zhuang":case"xian":case"he":case"backwater":t.enterContent=e.value;break;case"pairs":case"shun-zi":case"leopard":case"half-smooth":case"miscell-six":-1!==["前三","中三","后三","通买"].findIndex((function(e){return e===t.enterContent.substr(0,2)}))?(a=t.enterContent.substr(0,2)+e.value,t.enterContent=a):t.enterContent+=e.value;break;case"small":case"big":case"single":case"double":case"input":case"division":t.enterContent+=e.value;break;case"sum":t.gameInfo.keyboardType,t.enterContent=e.value;break;case"dragon":case"tiger":"mode1"===t.gameInfo.keyboardType?t.enterContent+=e.value:t.enterContent=e.value;break;case"random":t.enterContent=t.randomCompute();break;case"hidden":t.showKeyboard=!1;break;case"back":a=t.enterContent.substr(0,t.enterContent.length-1),t.enterContent=a;break;case"switch":t.showKeyboard=!1,t.$refs["enter-input"].focus()}},handleInput:function(){this.showVideoList=!1,this.gameInfo.inputShow=!1,this.showKeyboard=!0},handleLotteryHistory:function(){this.showMethod=0,this.$router.push({name:"lottery"})},handleBettingHistory:function(){this.showMethod=0,this.$router.push({name:"betting"})},handleSaoma:function(){this.showMethod=0,this.$router.push({name:"qrCode"})},handleOdds:function(){this.showMethod=0,this.$router.push({name:"odds"})},handlePlayMethod:function(){var e=this;e.showMethod=0,e.$router.push({name:"playMethod",params:{name:e.gameName,type:e.gameList.find((function(t){return t.type==e.gameInfo.gameType})).gameType}})}}},d=(a("2c71"),a("5511")),u=Object(d.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"game my-position"},[a("gameHeader",{attrs:{headerTitle:"[ "+e.videoNameList[e.gameInfo.type]+"●"+e.gameName+" ]",addInfo:"（"+e.allGamer+"人）"},on:{goBack:e.goBack},scopedSlots:e._u([{key:"add",fn:function(){return[a("div",{staticClass:"class-icon",style:{right:e.showMethod?"1.4rem":".24rem"},on:{click:e.handleShowMethod,touchstart:e.handleShowMethodT}})]},proxy:!0}])}),a("div",{staticClass:"game-info",style:{width:e.vWidth}},[a("div",{staticClass:"info-perids"},[a("p",[e._v(e._s(e.gameInfo.periods)+"局")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===e.gameInfo.lotteryStatus,expression:"gameInfo.lotteryStatus === '0'"}],staticClass:"count-down-video"},e._l(e.transTime(e.gameInfo.countDown),(function(t,n){return a("div",{key:n,staticClass:"count-item"},[e._v(e._s(t))])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"!==e.gameInfo.lotteryStatus,expression:"gameInfo.lotteryStatus !== '0'"}],staticClass:"count-down-video"},[a("div",{staticClass:"count-item"},[e._v("0")]),a("div",{staticClass:"count-item"},[e._v("0")]),a("div",{staticClass:"count-item"},[e._v("0")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.animationUrl,expression:"animationUrl"}],staticClass:"play-video",on:{click:e.handlePlay}}),a("div",{staticClass:"amount-info"},[a("p",[e._v(e._s(e.userInfo.amount?e.userInfo.amount:"0.00"))]),a("p",[e._v("剩余积分")])]),a("div",{class:["flush-amount",e.flushAmount?"rotate-progress":""],on:{click:e.handleFlushAmount}})]),a("div",{staticClass:"lottery-result",style:{width:e.vWidth}},[a("div",{staticClass:"lottery-info"},[a("p",[e._v("场次:"+e._s(e.gameInfo.nextPeriods))])]),a("div",{staticClass:"lottery-num"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"z"==e.showCurrentResult,expression:"showCurrentResult == 'z'"}],staticClass:"num-item"},[e._v("庄")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"x"==e.showCurrentResult,expression:"showCurrentResult == 'x'"}],staticClass:"num-item"},[e._v("闲")]),a("div",{directives:[{name:"show",rawName:"v-show",value:"h"==e.showCurrentResult,expression:"showCurrentResult == 'h'"}],staticClass:"num-item"},[e._v("和")])]),a("div",{staticClass:"lottery-more",style:{transform:e.gameInfo.openMore?"rotate(180deg)":"rotate(0deg)"},on:{click:e.handleMoreLottery}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.gameInfo.showAnimation||e.gameInfo.openMore,expression:"gameInfo.showAnimation || gameInfo.openMore"}],staticClass:"animation-list"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gameInfo.showAnimation,expression:"gameInfo.showAnimation"}],staticClass:"video-canvas"},[a("canvas",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"video-canvas",width:"1280",height:"720"},on:{click:function(t){return e.handleChangeVideo()}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.gameInfo.openMore,expression:"gameInfo.openMore"}],staticClass:"lottery-list video-list"},[a("div",{staticClass:"lottery-data-box"},[a("img",{attrs:{src:e.videoData,alt:""}})]),a("div",{staticClass:"lottery-big-eye",style:{"justify-content":9<e.videoBigEye.length?"flex-end":"flex-start"}},[a("img",{attrs:{src:e.videoBigEyeImg,alt:""}})]),a("div",{staticClass:"lottery-big-eye-r",style:{"justify-content":6<e.videoBigEyeR.length?"flex-end":"flex-start"}},[a("img",{attrs:{src:e.videoBigEyeR,alt:""}})]),a("div",{staticClass:"lottery-cockroach",style:{"justify-content":6<e.videoCockroach.length?"flex-end":"flex-start"}},[a("img",{attrs:{src:e.videoCockroach,alt:""}})]),a("div",{staticClass:"lottery-cockroach-r",style:{"justify-content":7<e.videoCockroachR.length?"flex-end":"flex-start"}},[a("img",{attrs:{src:e.videoCockroachR,alt:""}})]),a("div",{staticClass:"video-operate"},[a("div",{staticClass:"video-o-item video-z",on:{click:function(t){return e.handleOperateVideo("z")}}},[a("span",[e._v("庄问路")])]),a("div",{staticClass:"video-o-item video-x",on:{click:function(t){return e.handleOperateVideo("x")}}},[a("span",[e._v("闲问路")])]),a("div",{staticClass:"video-o-item video-r",on:{click:function(t){return e.handleOperateVideo("r")}}},[a("span",[e._v("恢复")])])])])]),a("div",{class:["message-box",e.showKeyboard?"message-box-"+e.gameInfo.keyboardType:""],attrs:{id:"mes-list"}},[a("div",{ref:"wrapper",staticClass:"wrapper",on:{click:e.handleHiddenBoard}},[a("div",{staticClass:"content"},e._l(e.messageList,(function(t,n){return a("div",{key:n,staticClass:"message-item",style:{textAlign:t.id===e.userInfo.userId?"right":"left",justifyContent:t.id===e.userInfo.userId?"flex-end":""}},[a("div",{staticClass:"message-left"},[t.id!==e.userInfo.userId?a("img",{attrs:{src:t.header,alt:"user-header",title:"user-header"},on:{error:function(a){return e.handleError(t)}}}):e._e(),t.id===e.userInfo.userId?a("p",{staticClass:"message-speci-info"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.fail,expression:"item.fail"}],staticClass:"fail-message",on:{click:function(a){return e.handleShowError(t)}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.showFailOpeare,expression:"item.showFailOpeare"}],staticClass:"fail-operate resend",on:{click:function(a){return e.handleSend(t)}}},[e._v("重发")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.showFailOpeare,expression:"item.showFailOpeare"}],staticClass:"fail-operate del",on:{click:function(a){return e.handleDelFail(t)}}},[e._v("删除")]),e._v("!")]),e._v(e._s(t.message)),t.img?a("img",{attrs:{src:t.img},on:{click:function(a){return e.handleBigImg(t.img)}}}):e._e()]):e._e()]),a("div",{staticClass:"message-right"},[t.id===e.userInfo.userId?a("img",{attrs:{src:t.header,alt:"user-header",title:"user-header"},on:{error:function(a){return e.handleError(t)}}}):e._e(),t.id!==e.userInfo.userId?a("p",{staticClass:"message-user"},[e._v(e._s(t.nickname))]):e._e(),t.id!==e.userInfo.userId?a("div",{staticClass:"message-info"},["normal"==t.type?[e._v(e._s(t.message))]:e._e(),"banlance"==t.type?a("picBanlance",{attrs:{data:t.message}}):e._e(),t.href?a("a",{attrs:{href:"#"},on:{click:function(a){return a.stopPropagation(),e.showMoreHistory(t.href)}}},[e._v(e._s(t.href))]):e._e()],2):e._e()])])})),0)])]),a("div",{class:["game-footer",e.showKeyboard?"game-keyboard-"+e.gameInfo.keyboardType:""],style:{width:e.vWidth}},[a("div",{staticClass:"footer-list"},[a("div",{staticClass:"input-box",on:{click:e.handleInput}},[a("p",{directives:[{name:"show",rawName:"v-show",value:!e.gameInfo.inputShow,expression:"!gameInfo.inputShow"}],staticClass:"input-content"},[e._v(e._s(e.enterContent))]),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.gameInfo.inputShow,expression:"!gameInfo.inputShow"}],staticClass:"twinkle"}),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.enterContent&&!e.gameInfo.inputShow,expression:"!enterContent && !gameInfo.inputShow"}],staticClass:"input-poptip"},[e._v("位置/玩法/金额")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.enterContent,expression:"enterContent"}],ref:"enter-input",class:[e.gameInfo.inputShow?"":"position-item"],style:{opacity:e.gameInfo.inputShow?1:0},attrs:{placeholder:"点击输入"},domProps:{value:e.enterContent},on:{blur:e.handleBlur,input:function(t){t.target.composing||(e.enterContent=t.target.value)}}})]),a("div",{staticClass:"submit-send",on:{click:e.handleSend}})]),a("analogKeyboard",{directives:[{name:"show",rawName:"v-show",value:e.showKeyboard,expression:"showKeyboard"}],attrs:{keyboardType:e.gameInfo.keyboardType},on:{handleKeyboard:e.handleKeyboardInput,handleSwitch:e.handleSwitchInput}})],1),a("div",{staticClass:"method",style:{height:0!=e.showMethod?1==e.showMethod?"2rem":"auto":"0"}},[a("div",{staticClass:"method-item g-turn-right",on:{click:e.handleSaoma}},[e._v("扫码上分")]),a("div",{staticClass:"method-item g-turn-right",on:{click:e.handleOdds}},[e._v("赔率介绍")]),a("div",{class:["method-item","g-turn-switch",e.mesPoptip?"open-switch":"close-switch"],on:{click:e.handleMessagePoptip}},[e._v("消息免打扰")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"method-item clear-all",on:{click:e.handleClearAll}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bigImg.show,expression:"bigImg.show"}],staticClass:"big-img-shade",on:{click:function(t){e.bigImg.show=!1}}},[a("img",{attrs:{src:e.bigImg.img}})]),a("videoList",{attrs:{showList:e.showVideoList},on:{changeShow:e.handleChangeShow,changeRoom:e.handleChangeRoom}})],1)}),[],!1,null,"fc684504",null);t.default=u.exports},"2c71":function(e,t,a){"use strict";var n=a("c874");a.n(n).a},c874:function(e,t,a){}}]);