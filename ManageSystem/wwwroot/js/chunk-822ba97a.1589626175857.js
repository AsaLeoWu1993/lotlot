(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-822ba97a"],{"013f":function(e,t,a){var n=a("4ce5"),i=a("224c"),s=a("008a"),r=a("eafa"),o=a("5dd2");e.exports=function(e,t){var a=1==e,l=2==e,u=3==e,c=4==e,d=6==e,p=5==e||d,y=t||o;return function(t,o,f){for(var m,g,v=s(t),h=i(v),L=n(o,f,3),C=r(h.length),w=0,_=a?y(t,C):l?y(t,0):void 0;C>w;w++)if((p||w in h)&&(m=h[w],g=L(m,w,v),e))if(a)_[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:_.push(m)}else if(c)return!1;return d?-1:u||c?c:_}}},"0eec":function(e,t,a){"use strict";var n=a("c5d2"),i=a.n(n);i.a},2346:function(e,t,a){var n=a("75c4");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"5dd2":function(e,t,a){var n=a("81dc");e.exports=function(e,t){return new(n(e))(t)}},"81dc":function(e,t,a){var n=a("fb68"),i=a("2346"),s=a("cb3d")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},"88d6":function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},"8bf7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"manual-lottery"},[a("div",{staticClass:"content"},[e._m(0),a("div",{staticClass:"query-list"},[a("span",[e._v("彩种")]),a("i-select",{staticClass:"item-select",on:{"on-change":e.handleChangeGame},model:{value:e.gameType,callback:function(t){e.gameType=t},expression:"gameType"}},e._l(e.gameList,(function(t,n){return a("i-option",{key:n,attrs:{value:t.type}},[e._v(e._s(t.name))])})),1),a("Input",{staticClass:"column-input",attrs:{placeholder:"输入期号"},model:{value:e.periods,callback:function(t){e.periods=t},expression:"periods"}}),a("Input",{staticClass:"column-input",attrs:{placeholder:"输入开奖号码"},model:{value:e.lotteryNum,callback:function(t){e.lotteryNum=t},expression:"lotteryNum"}}),a("div",{staticClass:"open",on:{click:e.handleLottery}},[e._v("执行开奖")])],1)]),a("div",{staticClass:"content"},[e._m(1),a("div",{staticClass:"data-con"},[e._m(2),a("div",{staticClass:"data-list"},[e._l(e.lotteryData,(function(t,n){return a("div",{key:n,staticClass:"data-item"},[a("p",{staticClass:"item-info"},[e._v(e._s(t.name))]),a("p",{staticClass:"item-info"},[e._v(e._s(t.id))]),a("p",{staticClass:"item-info"},[e._v(e._s(t.time))]),a("p",{staticClass:"item-info"},e._l(t.lotteryResult,(function(t,n){return a("span",{key:n,domProps:{innerHTML:e._s(e.lotteryStyle.find((function(e){return e.value==(2===t.length?t.substr(1,2):t)})).key)}})})),0),a("p",{staticClass:"item-info"},[e._v(e._s(t.betMoney))]),a("p",{staticClass:"item-info"},[e._v(e._s(t.winningMoney))]),a("div",{staticClass:"item-info"},[a("span",{on:{click:function(a){return e.handleShowInfo(t.id)}}},[e._v("详情")]),"已开奖"!==t.status?a("span",{on:{click:function(a){return e.handleSysLottery(t)}}},[e._v("结算")]):e._e()])])})),!e.lotteryData.length&&e.showPoptip?a("div",[a("p",[e._v(e._s(e.gameList.find((function(t){return t.type===e.gameType})).name+"第"+e.periods+"期没有获取到开奖号码，请执行开奖"))])]):e._e()],2)]),a("Page",{staticClass:"footer-page",attrs:{total:e.page.total,"page-size":e.page.pageSize,current:e.page.pageNum,"show-sizer":""},on:{"on-page-size-change":e.handleChangeSize,"on-change":e.handleChangePage}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.lotteryInfo.show,expression:"lotteryInfo.show"}],staticClass:"lottery-mask"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.lotteryInfo.show,expression:"lotteryInfo.show"}],staticClass:"lottery-data"},[a("div",{staticClass:"lottery-header"},[a("span",[e._v("开奖详情")]),a("span",{staticClass:"modal-close",on:{click:e.handleCloseModal}},[e._v("X")])]),a("div",{staticClass:"lottery-list"},[a("i-table",{attrs:{loading:e.isLoadingDetail,columns:e.lotteryInfoCols,data:e.lotteryInfoData}})],1)])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-header"},[a("div",{staticClass:"list-title"},[a("span",[e._v("手动开奖")]),a("div",{staticClass:"list-poptip"},[a("p",[e._v("注：输入开奖号码中，赛车类游戏“10”填写“0”代替，已开奖的手动无效。开奖时间记录执行时间。")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-header"},[a("div",{staticClass:"list-title"},[a("span",[e._v("开奖记录")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-header"},[a("p",{staticClass:"item-info"},[e._v("游戏类型")]),a("p",{staticClass:"item-info"},[e._v("期号")]),a("p",{staticClass:"item-info"},[e._v("开奖时间")]),a("p",{staticClass:"item-info"},[e._v("开奖结果")]),a("p",{staticClass:"item-info"},[e._v("投注金额")]),a("p",{staticClass:"item-info"},[e._v("中奖金额")]),a("p",{staticClass:"item-info"},[e._v("操作")])])}],s=(a("f548"),a("9e76"),a("9a33"),a("cc57"),a("e697"),a("c904"),a("88d6")),r={data:function(){var e;return e={showLoading:!1,isLoadingDetail:!1,isLoading:!1,showPoptip:!1,lotteryInfoData:[],periods:"",lotteryInfo:{show:!1},lotteryInfoCols:[{title:"期号",align:"center",key:"id"},{title:"用户Id",align:"center",key:"userId"},{title:"投注时间",align:"center",key:"time"},{title:"投注总额",align:"center",key:"betMoney"},{title:"中奖总额",align:"center",key:"winningMoney"},{title:"投注号码",align:"center",key:"betNum"},{title:"中奖号码",align:"center",key:"winningNum"}],gameType:1},Object(s["a"])(e,"periods",""),Object(s["a"])(e,"lotteryNum",""),Object(s["a"])(e,"gameList",[]),Object(s["a"])(e,"lotteryData",[]),Object(s["a"])(e,"page",{total:0,pageSize:10,pageNum:1}),Object(s["a"])(e,"lotteryStyle",[{key:"&#59689;",value:0},{key:"&#59690;",value:1},{key:"&#59691;",value:2},{key:"&#59692;",value:3},{key:"&#59693;",value:4},{key:"&#59694;",value:5},{key:"&#59695;",value:6},{key:"&#59696;",value:7},{key:"&#59697;",value:8},{key:"&#59698;",value:9}]),e},beforeRouteEnter:function(e,t,a){a((function(t){var a=e.params.type,n=e.params.periods;a&&(t.gameType=a,t.periods=n),t.getGameList().then((function(){t.handleQueryLottery()}))}))},methods:{getGameList:function(){var e=this;return new Promise((function(t,a){e.$axios({url:"/api/Merchant/GetGameList"}).then((function(n){if(100===n.data.Status){var i=n.data.Data;e.gameList=i.map((function(e){return{name:e.GameName,type:e.GameType,key:e.NickName,gameType:e.Type,value:0}})).sort((function(e,t){return e.type-t.type})),t()}a()}))}))},handleSysLottery:function(e){var t=this;t.isLoading||(t.isLoading=!0,t.showLoading=!0,t.$axios({url:"/api/Setup/ManualAward",params:{nper:e.id,gameType:t.gameType}}).then((function(e){t.isLoading=!1,t.showLoading=!1,100===e.data.Status&&(t.$Message.success(e.data.Message),t.handleQueryLottery())})))},handleChangeGame:function(){var e=this;e.page.pageNum=1,e.handleQueryLottery()},handleShowInfo:function(e){var t=this;t.handleQueryLotteryInfo(e),t.lotteryInfo.show=!0},handleCloseModal:function(){var e=this;e.lotteryInfo.show=!1},handleChangeSize:function(e){var t=this;t.page.pageSize=e,t.page.pageNum=1,t.handleQueryLottery()},handleChangePage:function(e){var t=this;t.page.pageNum=e,t.periods="",t.handleQueryLottery()},handleQueryLotteryInfo:function(e){var t=this;t.isLoadingDetail||(t.isLoadingDetail=!0,t.$axios({url:"/api/Setup/GetGameLotteryDetailed",params:{gameType:t.gameType,nper:e}}).then((function(e){if(t.isLoadingDetail=!1,100===e.data.Status){t.lotteryInfoData=[];var a=e.data.Data;t.lotteryInfoData=a.map((function(e){return{id:e.IssueNum,userId:e.UserName+"("+e.OnlyCode+")",time:e.BetTime,betMoney:e.BetAmount,winningMoney:e.WinAmount,betNum:e.BetNum,winningNum:e.WinNum}}))}})))},handleQueryLottery:function(){var e=this,t={};e.isLoading||(e.isLoading=!0,e.showLoading=!0,t["gameType"]=e.gameType,t["start"]=e.page.pageNum,t["pageSize"]=e.page.pageSize,e.periods&&(t["nper"]=e.periods),e.$axios({url:"/api/Setup/SearchGameLottery",params:t}).then((function(t){if(e.isLoading=!1,100===t.data.Status){e.lotteryData=[];var a=t.data.Data;e.page.total=t.data.Total;var n=e.gameList.find((function(t){return t.type==e.gameType})).gameType;e.lotteryData=a.map((function(t){return{name:e.gameList.find((function(t){return t.type===e.gameType})).name,id:t.IssueNum,time:t.LotteryTime.substr(0,16),lotteryResult:2==n?t.Nums.split(",").filter((function(e,t){return t<5})):t.Nums.split(","),betMoney:t.BetAmount,winningMoney:t.WinAmount,status:t.Status}})),e.periods&&!e.lotteryData.length&&(e.showPoptip=!0)}e.showLoading=!1})))},handleLottery:function(){var e=this,t="",a={},n=null,i="";if(e.periods.trim()){switch(i=e.gameList.find((function(t){return t.type==e.gameType})).gameType,i){case 1:if(10!==e.lotteryNum.length||10!==e.lotteryNum.match(/\d/g).length)return void e.$Message.error("请输入正确的开奖号码");n=e.lotteryNum.split("").map((function(e){return e.replace("0","10")})),a={IssueNum:e.periods,One:n[0],Two:n[1],Three:n[2],Four:n[3],Five:n[4],Six:n[5],Seven:n[6],Eight:n[7],Nine:n[8],Ten:n[9],AddTime:(new Date).pattern("yyyy-MM-dd HH:mm:ss")},t="/api/Setup/AddGameLottery10";break;case 2:if(5!==e.lotteryNum.length||5!==e.lotteryNum.match(/\d/g).length)return void e.$Message.error("请输入正确的开奖号码");n=e.lotteryNum.split(""),a={IssueNum:e.periods,Wan:n[0],Qian:n[1],Bai:n[2],Shi:n[3],Ge:n[4],AddTime:(new Date).pattern("yyyy-MM-dd HH:mm:ss")},t="/api/Setup/AddGameLottery5";break}e.isLoading||(e.isLoading=!0,e.$axios({url:t,method:"post",data:a,params:{gameType:e.gameType}}).then((function(t){e.isLoading=!1,100===t.data.Status?(e.$Message.success(t.data.Message),e.periods="",e.handleQueryLottery()):e.$Message.error(t.data.Message)})))}else e.$Message.error("请输入开奖期号")}}},o=r,l=(a("0eec"),a("4023")),u=Object(l["a"])(o,n,i,!1,null,"30b1d358",null);t["default"]=u.exports},"9e76":function(e,t,a){"use strict";var n=a("69b3"),i=a("eafa"),s=a("e754"),r=a("7108");a("0aed")("match",1,(function(e,t,a,o){return[function(a){var n=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=o(a,e,this);if(t.done)return t.value;var l=n(e),u=String(this);if(!l.global)return r(l,u);var c=l.unicode;l.lastIndex=0;var d,p=[],y=0;while(null!==(d=r(l,u))){var f=String(d[0]);p[y]=f,""===f&&(l.lastIndex=s(u,i(l.lastIndex),c)),y++}return 0===y?null:p}]}))},a2cd:function(e,t,a){"use strict";var n=a("238a");e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},c5d2:function(e,t,a){},c904:function(e,t,a){"use strict";var n=a("e46b"),i=a("5daa"),s=a("008a"),r=a("238a"),o=[].sort,l=[1,2,3];n(n.P+n.F*(r((function(){l.sort(void 0)}))||!r((function(){l.sort(null)}))||!a("a2cd")(o)),"Array",{sort:function(e){return void 0===e?o.call(s(this)):o.call(s(this),i(e))}})},cc57:function(e,t,a){var n=a("064e").f,i=Function.prototype,s=/^\s*function ([^ (]*)/,r="name";r in i||a("149f")&&n(i,r,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},e697:function(e,t,a){"use strict";var n=a("e46b"),i=a("013f")(5),s="find",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),n(n.P+n.F*r,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("0e8b")(s)}}]);
//# sourceMappingURL=chunk-822ba97a.1589626175857.js.map