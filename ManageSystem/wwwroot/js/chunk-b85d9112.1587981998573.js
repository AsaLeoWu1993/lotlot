(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b85d9112"],{"0eec":function(t,e,a){"use strict";var n=a("80ad"),i=a.n(n);i.a},"119c":function(t,e,a){"use strict";var n=a("b6f1");t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},"2d43":function(t,e,a){var n=a("01f5"),i=a("6462"),s=a("db4b"),r=a("b146"),o=a("5824");t.exports=function(t,e){var a=1==t,l=2==t,u=3==t,c=4==t,d=6==t,p=5==t||d,f=e||o;return function(e,o,y){for(var m,g,v=s(e),h=i(v),b=n(o,y,3),w=r(h.length),C=0,L=a?f(e,w):l?f(e,0):void 0;w>C;C++)if((p||C in h)&&(m=h[C],g=b(m,C,v),t))if(a)L[C]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return C;case 2:L.push(m)}else if(c)return!1;return d?-1:u||c?c:L}}},"3c6b":function(t,e,a){"use strict";var n=a("a013"),i=a("b146"),s=a("b0f4"),r=a("35dd");a("629c")("match",1,function(t,e,a,o){return[function(a){var n=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,n):new RegExp(a)[e](String(n))},function(t){var e=o(a,t,this);if(e.done)return e.value;var l=n(t),u=String(this);if(!l.global)return r(l,u);var c=l.unicode;l.lastIndex=0;var d,p=[],f=0;while(null!==(d=r(l,u))){var y=String(d[0]);p[f]=y,""===y&&(l.lastIndex=s(u,i(l.lastIndex),c)),f++}return 0===f?null:p}]})},5824:function(t,e,a){var n=a("f691");t.exports=function(t,e){return new(n(t))(e)}},"608b":function(t,e,a){"use strict";var n=a("b2f5"),i=a("2d43")(5),s="find",r=!0;s in[]&&Array(1)[s](function(){r=!1}),n(n.P+n.F*r,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("644a")(s)},7364:function(t,e,a){var n=a("ddf7").f,i=Function.prototype,s=/^\s*function ([^ (]*)/,r="name";r in i||a("dad2")&&n(i,r,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"7bc1":function(t,e,a){"use strict";var n=a("22e9"),i=a("a013"),s=a("0d5f"),r=a("b0f4"),o=a("b146"),l=a("35dd"),u=a("1f98"),c=a("b6f1"),d=Math.min,p=[].push,f="split",y="length",m="lastIndex",g=4294967295,v=!c(function(){RegExp(g,"y")});a("629c")("split",2,function(t,e,a,c){var h;return h="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[y]||2!="ab"[f](/(?:ab)*/)[y]||4!="."[f](/(.?)(.?)/)[y]||"."[f](/()()/)[y]>1||""[f](/.?/)[y]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return a.call(i,t,e);var s,r,o,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?g:e>>>0,v=new RegExp(t.source,c+"g");while(s=u.call(v,i)){if(r=v[m],r>d&&(l.push(i.slice(d,s.index)),s[y]>1&&s.index<i[y]&&p.apply(l,s.slice(1)),o=s[0][y],d=r,l[y]>=f))break;v[m]===s.index&&v[m]++}return d===i[y]?!o&&v.test("")||l.push(""):l.push(i.slice(d)),l[y]>f?l.slice(0,f):l}:"0"[f](void 0,0)[y]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,n){var i=t(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,i,n):h.call(String(i),a,n)},function(t,e){var n=c(h,t,this,e,h!==a);if(n.done)return n.value;var u=i(t),p=String(this),f=s(u,RegExp),y=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"y":"g"),b=new f(v?u:"^(?:"+u.source+")",m),w=void 0===e?g:e>>>0;if(0===w)return[];if(0===p.length)return null===l(b,p)?[p]:[];var C=0,L=0,_=[];while(L<p.length){b.lastIndex=v?L:0;var k,N=l(b,v?p:p.slice(L));if(null===N||(k=d(o(b.lastIndex+(v?0:L)),p.length))===C)L=r(p,L,y);else{if(_.push(p.slice(C,L)),_.length===w)return _;for(var S=1;S<=N.length-1;S++)if(_.push(N[S]),_.length===w)return _;L=C=k}}return _.push(p.slice(C)),_}]})},"80ad":function(t,e,a){},"8bf7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manual-lottery"},[a("div",{staticClass:"content"},[t._m(0),a("div",{staticClass:"query-list"},[a("span",[t._v("彩种")]),a("i-select",{staticClass:"item-select",on:{"on-change":t.handleChangeGame},model:{value:t.gameType,callback:function(e){t.gameType=e},expression:"gameType"}},t._l(t.gameList,function(e,n){return a("i-option",{key:n,attrs:{value:e.type}},[t._v(t._s(e.name))])}),1),a("Input",{staticClass:"column-input",attrs:{placeholder:"输入期号"},model:{value:t.periods,callback:function(e){t.periods=e},expression:"periods"}}),a("Input",{staticClass:"column-input",attrs:{placeholder:"输入开奖号码"},model:{value:t.lotteryNum,callback:function(e){t.lotteryNum=e},expression:"lotteryNum"}}),a("div",{staticClass:"open",on:{click:t.handleLottery}},[t._v("执行开奖")])],1)]),a("div",{staticClass:"content"},[t._m(1),a("div",{staticClass:"data-con"},[t._m(2),a("div",{staticClass:"data-list"},[t._l(t.lotteryData,function(e,n){return a("div",{key:n,staticClass:"data-item"},[a("p",{staticClass:"item-info"},[t._v(t._s(e.name))]),a("p",{staticClass:"item-info"},[t._v(t._s(e.id))]),a("p",{staticClass:"item-info"},[t._v(t._s(e.time))]),a("p",{staticClass:"item-info"},t._l(e.lotteryResult,function(e,n){return a("span",{key:n,domProps:{innerHTML:t._s(t.lotteryStyle.find(function(t){return t.value==(2===e.length?e.substr(1,2):e)}).key)}})}),0),a("p",{staticClass:"item-info"},[t._v(t._s(e.betMoney))]),a("p",{staticClass:"item-info"},[t._v(t._s(e.winningMoney))]),a("div",{staticClass:"item-info"},[a("span",{on:{click:function(a){return t.handleShowInfo(e.id)}}},[t._v("详情")]),"已开奖"!==e.status?a("span",{on:{click:function(a){return t.handleSysLottery(e)}}},[t._v("结算")]):t._e()])])}),!t.lotteryData.length&&t.showPoptip?a("div",[a("p",[t._v(t._s(t.gameList.find(function(e){return e.type===t.gameType}).name+"第"+t.periods+"期没有获取到开奖号码，请执行开奖"))])]):t._e()],2)]),a("Page",{staticClass:"footer-page",attrs:{total:t.page.total,"page-size":t.page.pageSize,current:t.page.pageNum,"show-sizer":""},on:{"on-page-size-change":t.handleChangeSize,"on-change":t.handleChangePage}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.lotteryInfo.show,expression:"lotteryInfo.show"}],staticClass:"lottery-mask"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.lotteryInfo.show,expression:"lotteryInfo.show"}],staticClass:"lottery-data"},[a("div",{staticClass:"lottery-header"},[a("span",[t._v("开奖详情")]),a("span",{staticClass:"modal-close",on:{click:t.handleCloseModal}},[t._v("X")])]),a("div",{staticClass:"lottery-list"},[a("i-table",{attrs:{loading:t.isLoadingDetail,columns:t.lotteryInfoCols,data:t.lotteryInfoData}})],1)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-header"},[a("div",{staticClass:"list-title"},[a("span",[t._v("手动开奖")]),a("div",{staticClass:"list-poptip"},[a("p",[t._v("注：输入开奖号码中，赛车类游戏“10”填写“0”代替，已开奖的手动无效。开奖时间记录执行时间。")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-header"},[a("div",{staticClass:"list-title"},[a("span",[t._v("开奖记录")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-header"},[a("p",{staticClass:"item-info"},[t._v("游戏类型")]),a("p",{staticClass:"item-info"},[t._v("期号")]),a("p",{staticClass:"item-info"},[t._v("开奖时间")]),a("p",{staticClass:"item-info"},[t._v("开奖结果")]),a("p",{staticClass:"item-info"},[t._v("投注金额")]),a("p",{staticClass:"item-info"},[t._v("中奖金额")]),a("p",{staticClass:"item-info"},[t._v("操作")])])}],s=(a("34a3"),a("3c6b"),a("7bc1"),a("7364"),a("608b"),a("b745"),a("a506")),r={data:function(){var t;return t={showLoading:!1,isLoadingDetail:!1,isLoading:!1,showPoptip:!1,lotteryInfoData:[],periods:"",lotteryInfo:{show:!1},lotteryInfoCols:[{title:"期号",align:"center",key:"id"},{title:"用户Id",align:"center",key:"userId"},{title:"投注时间",align:"center",key:"time"},{title:"投注总额",align:"center",key:"betMoney"},{title:"中奖总额",align:"center",key:"winningMoney"},{title:"投注号码",align:"center",key:"betNum"},{title:"中奖号码",align:"center",key:"winningNum"}],gameType:1},Object(s["a"])(t,"periods",""),Object(s["a"])(t,"lotteryNum",""),Object(s["a"])(t,"gameList",[]),Object(s["a"])(t,"lotteryData",[]),Object(s["a"])(t,"page",{total:0,pageSize:10,pageNum:1}),Object(s["a"])(t,"lotteryStyle",[{key:"&#59689;",value:0},{key:"&#59690;",value:1},{key:"&#59691;",value:2},{key:"&#59692;",value:3},{key:"&#59693;",value:4},{key:"&#59694;",value:5},{key:"&#59695;",value:6},{key:"&#59696;",value:7},{key:"&#59697;",value:8},{key:"&#59698;",value:9}]),t},beforeRouteEnter:function(t,e,a){a(function(e){var a=t.params.type,n=t.params.periods;a&&(e.gameType=a,e.periods=n),e.getGameList().then(function(){e.handleQueryLottery()})})},methods:{getGameList:function(){var t=this;return new Promise(function(e,a){t.$axios({url:"/api/Merchant/GetGameList"}).then(function(n){if(100===n.data.Status){var i=n.data.Data;t.gameList=i.map(function(t){return{name:t.GameName,type:t.GameType,key:t.NickName,gameType:t.Type,value:0}}).sort(function(t,e){return t.type-e.type}),e()}a()})})},handleSysLottery:function(t){var e=this;e.isLoading||(e.isLoading=!0,e.showLoading=!0,e.$axios({url:"/api/Setup/ManualAward",params:{nper:t.id,gameType:e.gameType}}).then(function(t){e.isLoading=!1,e.showLoading=!1,100===t.data.Status&&(e.$Message.success(t.data.Message),e.handleQueryLottery())}))},handleChangeGame:function(){var t=this;t.page.pageNum=1,t.handleQueryLottery()},handleShowInfo:function(t){var e=this;e.handleQueryLotteryInfo(t),e.lotteryInfo.show=!0},handleCloseModal:function(){var t=this;t.lotteryInfo.show=!1},handleChangeSize:function(t){var e=this;e.page.pageSize=t,e.page.pageNum=1,e.handleQueryLottery()},handleChangePage:function(t){var e=this;e.page.pageNum=t,e.periods="",e.handleQueryLottery()},handleQueryLotteryInfo:function(t){var e=this;e.isLoadingDetail||(e.isLoadingDetail=!0,e.$axios({url:"/api/Setup/GetGameLotteryDetailed",params:{gameType:e.gameType,nper:t}}).then(function(t){if(e.isLoadingDetail=!1,100===t.data.Status){e.lotteryInfoData=[];var a=t.data.Data;e.lotteryInfoData=a.map(function(t){return{id:t.IssueNum,userId:t.UserName+"("+t.OnlyCode+")",time:t.BetTime,betMoney:t.BetAmount,winningMoney:t.WinAmount,betNum:t.BetNum,winningNum:t.WinNum}})}}))},handleQueryLottery:function(){var t=this,e={};t.isLoading||(t.isLoading=!0,t.showLoading=!0,e["gameType"]=t.gameType,e["start"]=t.page.pageNum,e["pageSize"]=t.page.pageSize,t.periods&&(e["nper"]=t.periods),t.$axios({url:"/api/Setup/SearchGameLottery",params:e}).then(function(e){if(t.isLoading=!1,100===e.data.Status){t.lotteryData=[];var a=e.data.Data;t.page.total=e.data.Total;var n=t.gameList.find(function(e){return e.type==t.gameType}).gameType;t.lotteryData=a.map(function(e){return{name:t.gameList.find(function(e){return e.type===t.gameType}).name,id:e.IssueNum,time:e.LotteryTime.substr(0,16),lotteryResult:2==n?e.Nums.split(",").filter(function(t,e){return e<5}):e.Nums.split(","),betMoney:e.BetAmount,winningMoney:e.WinAmount,status:e.Status}}),t.periods&&!t.lotteryData.length&&(t.showPoptip=!0)}t.showLoading=!1}))},handleLottery:function(){var t=this,e="",a={},n=null,i="";if(t.periods.trim()){switch(i=t.gameList.find(function(e){return e.type==t.gameType}).gameType,i){case 1:if(10!==t.lotteryNum.length||10!==t.lotteryNum.match(/\d/g).length)return void t.$Message.error("请输入正确的开奖号码");n=t.lotteryNum.split("").map(function(t){return t.replace("0","10")}),a={IssueNum:t.periods,One:n[0],Two:n[1],Three:n[2],Four:n[3],Five:n[4],Six:n[5],Seven:n[6],Eight:n[7],Nine:n[8],Ten:n[9],AddTime:(new Date).pattern("yyyy-MM-dd HH:mm:ss")},e="/api/Setup/AddGameLottery10";break;case 2:if(5!==t.lotteryNum.length||5!==t.lotteryNum.match(/\d/g).length)return void t.$Message.error("请输入正确的开奖号码");n=t.lotteryNum.split(""),a={IssueNum:t.periods,Wan:n[0],Qian:n[1],Bai:n[2],Shi:n[3],Ge:n[4],AddTime:(new Date).pattern("yyyy-MM-dd HH:mm:ss")},e="/api/Setup/AddGameLottery5";break}t.isLoading||(t.isLoading=!0,t.$axios({url:e,method:"post",data:a,params:{gameType:t.gameType}}).then(function(e){t.isLoading=!1,100===e.data.Status?(t.$Message.success(e.data.Message),t.periods="",t.handleQueryLottery()):t.$Message.error(e.data.Message)}))}else t.$Message.error("请输入开奖期号")}}},o=r,l=(a("0eec"),a("6691")),u=Object(l["a"])(o,n,i,!1,null,"30b1d358",null);e["default"]=u.exports},a506:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",function(){return n})},b5b8:function(t,e,a){var n=a("94ac");t.exports=Array.isArray||function(t){return"Array"==n(t)}},b745:function(t,e,a){"use strict";var n=a("b2f5"),i=a("648a"),s=a("db4b"),r=a("b6f1"),o=[].sort,l=[1,2,3];n(n.P+n.F*(r(function(){l.sort(void 0)})||!r(function(){l.sort(null)})||!a("119c")(o)),"Array",{sort:function(t){return void 0===t?o.call(s(this)):o.call(s(this),i(t))}})},f691:function(t,e,a){var n=a("88dd"),i=a("b5b8"),s=a("8b37")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-b85d9112.1587981998573.js.map